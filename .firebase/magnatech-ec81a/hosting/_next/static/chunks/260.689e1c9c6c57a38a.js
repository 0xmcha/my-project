(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[260],{98503:function(e,t,n){var i=n(2265),r=n(16950),o=n(61349),a=i.createElement,s=n(52126),l=n(80271),c=n(26180),d=n(38834),u=n(41060),p=n(14244);e.exports=r({getDefaultProps:function(){return{data:null,search:l,searchOptions:{debounceTime:0},className:"",id:"json-"+Date.now(),onClick:p,filterOptions:{cacheResults:!0,ignoreCase:!1},validateQuery:function(e){return e.length>=2},isExpanded:function(e,t){return!1},verboseShowOriginal:!1}},getInitialState:function(){return{query:this.props.query||""}},render:function(){var e=this.props,t=this.state,n=""!==t.query&&e.validateQuery(t.query),i=n?t.filterer(t.query):e.data,r=n&&d(i);return a("div",{className:"json-inspector "+e.className},this.renderToolbar(),r?a("div",{className:"json-inspector__not-found"},"Nothing found"):a(s,{data:i,onClick:e.onClick,id:e.id,getOriginal:this.getOriginal,query:n?new RegExp(t.query,e.filterOptions.ignoreCase?"i":""):null,label:"root",root:!0,isExpanded:e.isExpanded,interactiveLabel:e.interactiveLabel,verboseShowOriginal:e.verboseShowOriginal}))},renderToolbar:function(){var e=this.props.search;if(e)return a("div",{className:"json-inspector__toolbar"},a(e,{onChange:o(this.search,this.props.searchOptions.debounceTime),data:this.props.data,query:this.state.query}))},search:function(e){this.setState({query:e})},componentWillMount:function(){this.createFilterer(this.props.data,this.props.filterOptions)},componentWillReceiveProps:function(e){this.createFilterer(e.data,e.filterOptions),"string"==typeof e.query&&e.query!==this.state.query&&this.setState({query:e.query})},shouldComponentUpdate:function(e,t){return e.query!==this.props.query||t.query!==this.state.query||e.data!==this.props.data||e.onClick!==this.props.onClick},createFilterer:function(e,t){this.setState({filterer:c(e,t)})},getOriginal:function(e){return u(this.props.data,e)}})},26180:function(e,t,n){var i=Object.keys,r=n(25129),o=n(38834);function a(e,t,n){return i(e).reduce(function(i,l){var c,d,u=e[l];return r(u)?(s(t,l,n)||s(t,u,n))&&(i[l]=u):s(t,l,n)?i[l]=u:o(d=a(u,t,n))||Object.assign(i,((c={})[l]=d,c)),i},{})}function s(e,t,n){if(t){var i=String(t),r=e;return n.ignoreCase&&(i=i.toLowerCase(),r=r.toLowerCase()),-1!==i.indexOf(r)}}e.exports=function(e,t){t||(t={cacheResults:!0});var n={};return function(i){if(!t.cacheResults)return a(e,i,t);if(!n[i]){for(var r,o=i.length-1;o>0;o-=1)if(n[r=i.substr(0,o)]){n[i]=a(n[r],i,t);break}}return n[i]||(n[i]=a(e,i,t)),n[i]}}},43918:function(e,t,n){var i=n(2265),r=n(16950),o=i.createElement;e.exports=r({getDefaultProps:function(){return{string:"",highlight:""}},shouldComponentUpdate:function(e){return e.highlight!==this.props.highlight},render:function(){var e=this.props,t=e.string.search(e.highlight);if(!e.highlight||-1===t)return o("span",null,e.string);var n=e.highlight.source.length,i=e.string.substr(t,n);return o("span",null,e.string.split(e.highlight).map(function(e,t){return o("span",{key:t},t>0?o("span",{className:"json-inspector__hl"},i):null,e)}))}})},38834:function(e){e.exports=function(e){return 0===Object.keys(e).length}},25129:function(e,t,n){var i=n(8197);e.exports=function(e){var t=i(e);return"Object"!==t&&"Array"!==t}},52126:function(e,t,n){var i=n(2265),r=n(16950),o=n(44e3),a=n(82424),s=n(8197),l=n(25129),c=n(43918),d=i.createElement,u=r({getInitialState:function(){return{expanded:this._isInitiallyExpanded(this.props)}},getDefaultProps:function(){return{root:!1,prefix:""}},render:function(){var e="id_"+a(),t=this.props,n={path:this.keypath(),key:t.label.toString(),value:t.data},i=this._onClick.bind(this,n);return d("div",{className:this.getClassName(),id:"leaf-"+this._rootPath()},d("input",{className:"json-inspector__radio",type:"radio",name:t.id,id:e,tabIndex:-1}),d("label",{className:"json-inspector__line",htmlFor:e,onClick:i},d("div",{className:"json-inspector__flatpath"},n.path),d("span",{className:"json-inspector__key"},this.format(n.key),":",this.renderInteractiveLabel(n.key,!0)),this.renderTitle(),this.renderShowOriginalButton()),this.renderChildren())},renderTitle:function(){var e=this.data(),t=s(e);switch(t){case"Array":var n=e.length;return d("span",{className:"json-inspector__value json-inspector__value_helper"},(n>0?"[…] ":"[] ")+n+(1===n?" item":" items"));case"Object":var i=Object.keys(e).length;return d("span",{className:"json-inspector__value json-inspector__value_helper"},(i>0?"{…} ":"{} ")+i+(1===i?" property":" properties"));default:return d("span",{className:"json-inspector__value json-inspector__value_"+t.toLowerCase()},this.format(String(e)),this.renderInteractiveLabel(e,!1))}},renderChildren:function(){var e=this.props,t=this._rootPath(),n=this.data();return this.state.expanded&&!l(n)?Object.keys(n).map(function(i){var r=n[i],a=!this.state.original||!!e.verboseShowOriginal&&e.query;return d(u,{data:r,label:i,prefix:t,onClick:e.onClick,id:e.id,query:e.query,getOriginal:a?e.getOriginal:null,key:l(r)?i+":"+o(String(r)):i+"["+s(r)+"]",isExpanded:e.isExpanded,interactiveLabel:e.interactiveLabel,verboseShowOriginal:e.verboseShowOriginal})},this):null},renderShowOriginalButton:function(){var e=this.props;return l(e.data)||this.state.original||!e.getOriginal||!e.query||p(this.keypath(),e.query)?null:d("span",{className:"json-inspector__show-original",onClick:this._onShowOriginalClick})},renderInteractiveLabel:function(e,t){return"function"==typeof this.props.interactiveLabel?d(this.props.interactiveLabel,{value:String(e),originalValue:e,isKey:t,keypath:this.keypath()}):null},componentWillReceiveProps:function(e){e.query&&this.setState({expanded:!p(e.label,e.query)}),this.props.query&&!e.query&&this.setState({expanded:this._isInitiallyExpanded(e)})},_rootPath:function(){return this.props.prefix+"."+this.props.label},keypath:function(){return this._rootPath().substr(6)},data:function(){return this.state.original||this.props.data},format:function(e){return d(c,{string:e,highlight:this.props.query})},getClassName:function(){var e="json-inspector__leaf";return this.props.root&&(e+=" json-inspector__leaf_root"),this.state.expanded&&(e+=" json-inspector__leaf_expanded"),l(this.props.data)||(e+=" json-inspector__leaf_composite"),e},toggle:function(){this.setState({expanded:!this.state.expanded})},_onClick:function(e,t){this.toggle(),this.props.onClick(e),t.stopPropagation()},_onShowOriginalClick:function(e){this.setState({original:this.props.getOriginal(this.keypath())}),e.stopPropagation()},_isInitiallyExpanded:function(e){var t=this.keypath();return!!e.root||(e.query?!p(t,e.query)&&"function"==typeof e.getOriginal:e.isExpanded(t,e.data))}});function p(e,t){return -1!==e.indexOf(t)}e.exports=u},41060:function(e,t,n){var i=n(8197);function r(e){return parseInt(e,10)}e.exports=function e(t,n){var o=n.split("."),a=o.shift();if(!a)return t;var s=i(t);return"Array"===s&&t[r(a)]?e(t[r(a)],o.join(".")):"Object"===s&&t[a]?e(t[a],o.join(".")):void 0}},14244:function(e){e.exports=function(){}},80271:function(e,t,n){var i=n(2265),r=n(16950),o=i.createElement,a=n(14244);e.exports=r({getDefaultProps:function(){return{onChange:a}},render:function(){return o("input",{className:"json-inspector__search",type:"search",placeholder:"Search",onChange:this.onChange})},onChange:function(e){this.props.onChange(e.target.value)}})},8197:function(e){e.exports=function(e){return Object.prototype.toString.call(e).slice(8,-1)}},82424:function(e){var t=Math.ceil(10*Math.random());e.exports=function(){return++t}},21994:function(e,t,n){"use strict";var i=n(8909),r={},o=function(e){};function a(e,t,n,i,r,a,s,l){if(o(t),!e){var c;if(void 0===t)c=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var d=[n,i,r,a,s,l],u=0;(c=Error(t.replace(/%s/g,function(){return d[u++]}))).name="Invariant Violation"}throw c.framesToPop=1,c}}var s="mixins";e.exports=function(e,t,n){var o=[],l={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",UNSAFE_componentWillMount:"DEFINE_MANY",UNSAFE_componentWillReceiveProps:"DEFINE_MANY",UNSAFE_componentWillUpdate:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"},c={getDerivedStateFromProps:"DEFINE_MANY_MERGED"},d={displayName:function(e,t){e.displayName=t},mixins:function(e,t){if(t)for(var n=0;n<t.length;n++)u(e,t[n])},childContextTypes:function(e,t){e.childContextTypes=i({},e.childContextTypes,t)},contextTypes:function(e,t){e.contextTypes=i({},e.contextTypes,t)},getDefaultProps:function(e,t){e.getDefaultProps?e.getDefaultProps=h(e.getDefaultProps,t):e.getDefaultProps=t},propTypes:function(e,t){e.propTypes=i({},e.propTypes,t)},statics:function(e,t){!function(e,t){if(t)for(var n in t){var i=t[n];if(t.hasOwnProperty(n)){if(a(!(n in d),'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',n),n in e){a("DEFINE_MANY_MERGED"===(c.hasOwnProperty(n)?c[n]:null),"ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",n),e[n]=h(e[n],i);return}e[n]=i}}}(e,t)},autobind:function(){}};function u(e,n){if(n){a("function"!=typeof n,"ReactClass: You're attempting to use a component class or function as a mixin. Instead, just use a regular object."),a(!t(n),"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object.");var i=e.prototype,r=i.__reactAutoBindPairs;for(var o in n.hasOwnProperty(s)&&d.mixins(e,n.mixins),n)if(n.hasOwnProperty(o)&&o!==s){var c=n[o],u=i.hasOwnProperty(o);if(!function(e,t){var n=l.hasOwnProperty(t)?l[t]:null;m.hasOwnProperty(t)&&a("OVERRIDE_BASE"===n,"ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",t),e&&a("DEFINE_MANY"===n||"DEFINE_MANY_MERGED"===n,"ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",t)}(u,o),d.hasOwnProperty(o))d[o](e,c);else{var p=l.hasOwnProperty(o);if("function"!=typeof c||p||u||!1===n.autobind){if(u){var f=l[o];a(p&&("DEFINE_MANY_MERGED"===f||"DEFINE_MANY"===f),"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",f,o),"DEFINE_MANY_MERGED"===f?i[o]=h(i[o],c):"DEFINE_MANY"===f&&(i[o]=function(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}(i[o],c))}else i[o]=c}else r.push(o,c),i[o]=c}}}}function p(e,t){for(var n in a(e&&t&&"object"==typeof e&&"object"==typeof t,"mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects."),t)t.hasOwnProperty(n)&&(a(void 0===e[n],"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",n),e[n]=t[n]);return e}function h(e,t){return function(){var n=e.apply(this,arguments),i=t.apply(this,arguments);if(null==n)return i;if(null==i)return n;var r={};return p(r,n),p(r,i),r}}var f={componentDidMount:function(){this.__isMounted=!0}},x={componentWillUnmount:function(){this.__isMounted=!1}},m={replaceState:function(e,t){this.updater.enqueueReplaceState(this,e,t)},isMounted:function(){return!!this.__isMounted}},g=function(){};return i(g.prototype,e.prototype,m),function(e){var t=function(e,i,o){this.__reactAutoBindPairs.length&&function(e){for(var t=e.__reactAutoBindPairs,n=0;n<t.length;n+=2){var i=t[n],r=t[n+1];e[i]=r.bind(e)}}(this),this.props=e,this.context=i,this.refs=r,this.updater=o||n,this.state=null;var s=this.getInitialState?this.getInitialState():null;a("object"==typeof s&&!Array.isArray(s),"%s.getInitialState(): must return an object or null",t.displayName||"ReactCompositeComponent"),this.state=s};for(var i in t.prototype=new g,t.prototype.constructor=t,t.prototype.__reactAutoBindPairs=[],o.forEach(u.bind(null,t)),u(t,f),u(t,e),u(t,x),t.getDefaultProps&&(t.defaultProps=t.getDefaultProps()),a(t.prototype.render,"createClass(...): Class specification must implement a `render` method."),l)t.prototype[i]||(t.prototype[i]=null);return t}}},16950:function(e,t,n){"use strict";var i=n(2265),r=n(21994);if(void 0===i)throw Error("create-react-class could not find the React object. If you are using script tags, make sure that React is being loaded before create-react-class.");var o=new i.Component().updater;e.exports=r(i.Component,i.isValidElement,o)},32188:function(e){e.exports=Date.now||function(){return new Date().getTime()}},61349:function(e,t,n){var i=n(32188);e.exports=function(e,t,n){var r,o,a,s,l;function c(){var d=i()-s;d<t&&d>0?r=setTimeout(c,t-d):(r=null,n||(l=e.apply(a,o),r||(a=o=null)))}return null==t&&(t=100),function(){a=this,o=arguments,s=i();var d=n&&!r;return r||(r=setTimeout(c,t)),d&&(l=e.apply(a,o),a=o=null),l}}},23746:function(e){e.exports=function(e){if(!e)throw Error("hashlru must have a max value, of type number, greater than 0");var t=0,n=Object.create(null),i=Object.create(null);function r(r,o){n[r]=o,++t>=e&&(t=0,i=n,n=Object.create(null))}return{has:function(e){return void 0!==n[e]||void 0!==i[e]},remove:function(e){void 0!==n[e]&&(n[e]=void 0),void 0!==i[e]&&(i[e]=void 0)},get:function(e){var t=n[e];return void 0!==t?t:void 0!==(t=i[e])?(r(e,t),t):void 0},set:function(e,t){void 0!==n[e]?n[e]=t:r(e,t)},clear:function(){n=Object.create(null),i=Object.create(null)}}}},44e3:function(e){"use strict";e.exports=function(e){for(var t=function(e){var t,n=(e.length+8>>6)+1,i=Array(16*n);for(t=0;t<16*n;t++)i[t]=0;for(t=0;t<e.length;t++)i[t>>2]|=e.charCodeAt(t)<<(8*e.length+t)%4*8;i[t>>2]|=128<<(8*e.length+t)%4*8;var r=8*e.length;return i[16*n-2]=255&r,i[16*n-2]|=(r>>>8&255)<<8,i[16*n-2]|=(r>>>16&255)<<16,i[16*n-2]|=(r>>>24&255)<<24,i}(e),n=1732584193,i=-271733879,r=-1732584194,s=271733878,p=0;p<t.length;p+=16){var h=n,f=i,x=r,m=s;n=l(n,i,r,s,t[p+0],7,-680876936),s=l(s,n,i,r,t[p+1],12,-389564586),r=l(r,s,n,i,t[p+2],17,606105819),i=l(i,r,s,n,t[p+3],22,-1044525330),n=l(n,i,r,s,t[p+4],7,-176418897),s=l(s,n,i,r,t[p+5],12,1200080426),r=l(r,s,n,i,t[p+6],17,-1473231341),i=l(i,r,s,n,t[p+7],22,-45705983),n=l(n,i,r,s,t[p+8],7,1770035416),s=l(s,n,i,r,t[p+9],12,-1958414417),r=l(r,s,n,i,t[p+10],17,-42063),i=l(i,r,s,n,t[p+11],22,-1990404162),n=l(n,i,r,s,t[p+12],7,1804603682),s=l(s,n,i,r,t[p+13],12,-40341101),r=l(r,s,n,i,t[p+14],17,-1502002290),i=l(i,r,s,n,t[p+15],22,1236535329),n=c(n,i,r,s,t[p+1],5,-165796510),s=c(s,n,i,r,t[p+6],9,-1069501632),r=c(r,s,n,i,t[p+11],14,643717713),i=c(i,r,s,n,t[p+0],20,-373897302),n=c(n,i,r,s,t[p+5],5,-701558691),s=c(s,n,i,r,t[p+10],9,38016083),r=c(r,s,n,i,t[p+15],14,-660478335),i=c(i,r,s,n,t[p+4],20,-405537848),n=c(n,i,r,s,t[p+9],5,568446438),s=c(s,n,i,r,t[p+14],9,-1019803690),r=c(r,s,n,i,t[p+3],14,-187363961),i=c(i,r,s,n,t[p+8],20,1163531501),n=c(n,i,r,s,t[p+13],5,-1444681467),s=c(s,n,i,r,t[p+2],9,-51403784),r=c(r,s,n,i,t[p+7],14,1735328473),i=c(i,r,s,n,t[p+12],20,-1926607734),n=d(n,i,r,s,t[p+5],4,-378558),s=d(s,n,i,r,t[p+8],11,-2022574463),r=d(r,s,n,i,t[p+11],16,1839030562),i=d(i,r,s,n,t[p+14],23,-35309556),n=d(n,i,r,s,t[p+1],4,-1530992060),s=d(s,n,i,r,t[p+4],11,1272893353),r=d(r,s,n,i,t[p+7],16,-155497632),i=d(i,r,s,n,t[p+10],23,-1094730640),n=d(n,i,r,s,t[p+13],4,681279174),s=d(s,n,i,r,t[p+0],11,-358537222),r=d(r,s,n,i,t[p+3],16,-722521979),i=d(i,r,s,n,t[p+6],23,76029189),n=d(n,i,r,s,t[p+9],4,-640364487),s=d(s,n,i,r,t[p+12],11,-421815835),r=d(r,s,n,i,t[p+15],16,530742520),i=d(i,r,s,n,t[p+2],23,-995338651),n=u(n,i,r,s,t[p+0],6,-198630844),s=u(s,n,i,r,t[p+7],10,1126891415),r=u(r,s,n,i,t[p+14],15,-1416354905),i=u(i,r,s,n,t[p+5],21,-57434055),n=u(n,i,r,s,t[p+12],6,1700485571),s=u(s,n,i,r,t[p+3],10,-1894986606),r=u(r,s,n,i,t[p+10],15,-1051523),i=u(i,r,s,n,t[p+1],21,-2054922799),n=u(n,i,r,s,t[p+8],6,1873313359),s=u(s,n,i,r,t[p+15],10,-30611744),r=u(r,s,n,i,t[p+6],15,-1560198380),i=u(i,r,s,n,t[p+13],21,1309151649),n=u(n,i,r,s,t[p+4],6,-145523070),s=u(s,n,i,r,t[p+11],10,-1120210379),r=u(r,s,n,i,t[p+2],15,718787259),i=u(i,r,s,n,t[p+9],21,-343485551),n=o(n,h),i=o(i,f),r=o(r,x),s=o(s,m)}return a(n)+a(i)+a(r)+a(s)};var t="0123456789abcdef";function n(e,t){return(e>>>1|t>>>1)<<1|(1&e|1&t)}function i(e,t){return(e>>>1^t>>>1)<<1|1&e^1&t}function r(e,t){return(e>>>1&t>>>1)<<1|1&e&(1&t)}function o(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function a(e){var n,i="";for(n=0;n<=3;n++)i+=t.charAt(e>>8*n+4&15)+t.charAt(e>>8*n&15);return i}function s(e,t,n,i,r,a){var s;return o((s=o(o(t,e),o(i,a)))<<r|s>>>32-r,n)}function l(e,t,i,o,a,l,c){return s(n(r(t,i),r(~t,o)),e,t,a,l,c)}function c(e,t,i,o,a,l,c){return s(n(r(t,o),r(i,~o)),e,t,a,l,c)}function d(e,t,n,r,o,a,l){return s(i(i(t,n),r),e,t,o,a,l)}function u(e,t,r,o,a,l,c){return s(i(r,n(t,~o)),e,t,a,l,c)}},8909:function(e){"use strict";var t=Object.assign.bind(Object);e.exports=t,e.exports.default=e.exports},87260:function(e,t,n){"use strict";n.r(t),n.d(t,{DocumentPane:function(){return nm},index:function(){return nk},useDeskToolSetting:function(){return e3}});var i,r,o,a,s,l,c,d,u,p,h,f,x,m,g,j,v,y,b,_,w,E=n(57437),k=n(2265),C=n(28501),P=n(5828),S=n(25727),I=n.n(S),O=n(44660),M=n(85147),N=n(29314),z=n(20920),R=n(82586);function D(e,t){var n="object"==typeof t;return new Promise(function(i,r){var o=new R.Hp({next:function(e){i(e),o.unsubscribe()},error:r,complete:function(){n?i(t.defaultValue):r(new z.K)}});e.subscribe(o)})}var L=n(52005),T=n(75171),A=n(92392),F=n(73271),W=n(28481),q=n(89967),Y=n(41670),Z=n(89402),U=n(45685),B=n(72211),K=n(72849),V=n(46567),X=n(76754),H=n(67581),$=n(55812),G=n(42643),J=n(3221),Q=n(26400),ee=n(42299),et=n(81132),en=n(42077),ei=n.n(en),er=n(84239),eo=n(55894),ea=n(47432),es=n(45211);n(72140),n(31423),n(48911),n(44601),n(53530),n(94468),n(65574);var el=n(9176);n(35794);var ec=n(86566),ed=n(38146);n(71881),n(33874);var eu=n(63070),ep=n(98503),eh=n.n(ep),ef=n(23746),ex=n.n(ef),em=n(97870);let eg=e=>{let{actions:t,children:n,actionProps:i,onActionComplete:r}=e;return(0,E.jsx)(ee.duV,{onReset:r,hooks:t,args:i,children:n})},ej=e=>{let{badges:t,children:n,badgeProps:i,...r}=e;return(0,E.jsx)(ee.duV,{...r,hooks:t,args:i,children:n})},ev=[];function ey(e){let{children:t,flatIndex:n,index:i,params:r,payload:o,siblingIndex:a}=e,{navigate:s,navigateIntent:l}=(0,er.tv)(),c=(0,er.z)(),d=(0,k.useMemo)(()=>(null==c?void 0:c.panes)||ev,[null==c?void 0:c.panes]),u=i-1,p=(0,k.useCallback)(e=>{let t=d[u]||[],n=t[a],i=e(t,n),r=[...d.slice(0,u),i,...d.slice(u+1)],o={...c||{},panes:r};return setTimeout(()=>s(o),0),o},[u,s,d,c,a]),h=(0,k.useCallback)(e=>{p((t,n)=>[...t.slice(0,a),{...n,payload:e},...t.slice(a+1)])},[p,a]),f=(0,k.useCallback)(e=>{p((t,n)=>[...t.slice(0,a),{...n,params:e},...t.slice(a+1)])},[p,a]),x=(0,k.useCallback)(e=>{let{id:t,parentRefPath:n,type:i,template:r}=e;s({panes:[...d.slice(0,u+1),[{id:t,params:{template:r.id,parentRefPath:(0,ed.BB)(n),type:i},payload:r.params}]]})},[u,s,d]),m=(0,k.useMemo)(()=>({index:n,groupIndex:u,siblingIndex:a,payload:o,params:r,hasGroupSiblings:!!d[u]&&d[u].length>1,groupLength:d[u]?d[u].length:0,routerPanesState:d,ChildLink:P.aL,BackLink:P.hb,ReferenceChildLink:P.HZ,handleEditReference:x,ParameterizedLink:P.V$,replaceCurrent:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};p(()=>[{id:e.id||"",payload:e.payload,params:e.params||{}}])},closeCurrent:()=>{p((e,t)=>e.length>1?e.filter(e=>e!==t):e)},duplicateCurrent:e=>{p((t,n)=>{let i={...n,payload:(null==e?void 0:e.payload)||n.payload,params:(null==e?void 0:e.params)||n.params};return[...t.slice(0,a),i,...t.slice(a)]})},setView:e=>{let t=I()(r,"view");return f(e?{...t,view:e}:t)},setParams:f,setPayload:h,navigateIntent:l}),[n,u,x,p,l,r,o,d,f,h,a]);return(0,E.jsx)(P.ud.Provider,{value:m,children:t})}let eb=[];function e_(e){let{documentId:t,documentType:n,flex:i}=e,{collapsed:r}=(0,P.ec)(),{closeInspector:o,inspector:a}=(0,P.Z3)(),{features:s}=(0,P.xu)(),l=(0,k.useCallback)(()=>{a&&o(a.name)},[o,a]);if(r||!a)return null;let c=(0,k.createElement)(a.component,{onClose:l,documentId:t,documentType:n});return s.resizablePanes?(0,E.jsx)(P.ez,{as:"aside","data-ui":"DocumentInspectorPanel",flex:i,maxWidth:P.zY,minWidth:P.VQ,children:c}):(0,E.jsx)(C.xu,{as:"aside","data-ui":"DocumentInspectorPanel",flex:i,children:c})}var ew=Object.defineProperty,eE=(e,t,n)=>t in e?ew(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ek=(e,t,n)=>(eE(e,"symbol"!=typeof t?t+"":t,n),n);class eC extends Error{constructor(e){let{message:t,context:n,helpId:i,cause:r}=e;super(t),ek(this,"cause"),ek(this,"context"),ek(this,"helpId"),this.context=n,this.helpId=i,this.cause=r}}let eP=new WeakMap;function eS(e){let t=eP.get(e);if(t)return t;let n=(0,W.x0)();return eP.set(e,n),n}let eI=new WeakMap;function eO(e,t){let n=eI.get(e)||new Map;if(n){let e=n.get(t);if(e)return e}let i=e[t];if("function"!=typeof i)throw Error("Expected property `".concat(t,"` to be a function but got ").concat(typeof i," instead."));let r=i.bind(e);return n.set(t,r),eI.set(e,n),r}let eM=e=>!!e&&"function"==typeof(null==e?void 0:e.then),eN=e=>!!(0,ee.Uy$)(e)&&"function"==typeof e.serialize,ez=e=>(t,n,i)=>{try{return e(t,n,i)}catch(e){if(e instanceof eC)throw e;throw new eC({message:"string"==typeof(null==e?void 0:e.message)?e.message:"",context:n,cause:e})}},eR=e=>function(){return e(...arguments).pipe((0,q._)(1),(0,Y.x)())};function eD(e){let t=ez(eR(e((e,n,i)=>{if(!e)throw new eC({message:"Pane returned no child",context:n,helpId:"structure-item-returned-no-child"});return eM(e)||(0,O.b)(e)?(0,M.D)(e).pipe((0,Z.w)(e=>t(e,n,i))):eN(e)?t(e.serialize(n),n,i):"function"==typeof e?t(e(n.id,n),n,i):(0,N.of)(e)})));return t}async function eL(e){let t=new Map,n=eD(e=>(n,i,r)=>{let o=n&&"".concat(eS(n),"-").concat(i.path.join("__")),a=o&&t.get(o);if(a)return a;let s=e(n,i,r);return o&&t.set(o,s),s}),i=[[{id:"__edit__".concat(e.params.id),params:{...I()(e.params,["id"]),type:e.params.type},payload:e.payload}]];async function r(e){var t;let{currentId:i,flatIndex:o,intent:a,params:s,parent:l,path:c,payload:d,unresolvedPane:u,levelIndex:p,structureContext:h}=e;if(!u)return[];let{id:f,type:x,...m}=s,g=await D(n(u,{id:i,splitIndex:0,parent:l,path:c,index:o,params:{},payload:void 0,structureContext:h},o));return"document"===g.type&&g.id===f?[{panes:[...c.slice(0,c.length-1).map(e=>[{id:e}]),[{id:f,params:m,payload:d}]],depthIndex:c.length,levelIndex:p}]:(null==(t=g.canHandleIntent)?void 0:t.call(g,a,s,{pane:g,index:o}))||"documentList"===g.type&&g.schemaTypeName===x&&"_type == $type"===g.options.filter?[{panes:[...c.map(e=>[{id:e}]),[{id:s.id,params:m,payload:d}]],depthIndex:c.length,levelIndex:p}]:"list"===g.type&&g.child&&g.items?(await Promise.all(g.items.map((e,t)=>"divider"===e.type?Promise.resolve([]):r({currentId:e._id||e.id,flatIndex:o+1,intent:a,params:s,parent:g,path:[...c,e.id],payload:d,unresolvedPane:"function"==typeof g.child?eO(g,"child"):g.child,levelIndex:t,structureContext:h})))).flat():[]}let o=await r({currentId:"root",flatIndex:0,levelIndex:0,intent:e.intent,params:e.params,parent:null,path:[],payload:e.payload,unresolvedPane:e.rootPaneNode,structureContext:e.structureContext}),a=o.sort((e,t)=>e.depthIndex===t.depthIndex?e.levelIndex-t.levelIndex:e.depthIndex-t.depthIndex)[0];return a?a.panes:i}let eT=(e,t)=>{let n=e.replace(/^__edit__/,""),{params:i,payload:r,structureContext:{resolveDocumentNode:o}}=t,{type:a,template:s}=i;if(!a)throw Error("Document type for document with ID ".concat(n," was not provided in the router params."));let l=o({schemaType:a,documentId:n}).id("editor");return s&&(l=l.initialValueTemplate(s,r)),l.serialize()},eA=e=>{let t={type:e.type,id:e.routerPaneSibling.id,params:e.routerPaneSibling.params||{},payload:e.routerPaneSibling.payload||null,flatIndex:e.flatIndex,groupIndex:e.groupIndex,siblingIndex:e.siblingIndex,path:e.path,paneNode:"resolvedMeta"===e.type?eS(e.paneNode):null};return"metaHash(".concat(JSON.stringify(t),")")};async function eF(e,t,n){if(t&&n)return{id:t,type:n};if(!t&&n)return{id:(0,eo.Z)(),type:n};if(t&&!n){let n=await D(e.resolveTypeForDocument(t));return{id:t,type:n}}throw new eC({message:"Neither document `id` or `type` was provided when trying to resolve intent."})}let eW={},eq=(0,k.memo)(function(){let{navigate:e}=(0,er.tv)(),t=(0,er.z)((0,k.useCallback)(e=>{let t="string"==typeof e.intent?e.intent:void 0;return t?{intent:t,params:(0,ee.Uy$)(e.params)?e.params:eW,payload:e.payload}:void 0},[])),{rootPaneNode:n,structureContext:i}=(0,P.xu)(),r=(0,ee.H__)(),[o,a]=(0,k.useState)(null);if(o)throw o;return(0,k.useEffect)(()=>{if(t){let{intent:o,params:s,payload:l}=t,c=!1;return(async function(){let{id:t,type:a}=await eF(r,"string"==typeof s.id?s.id:void 0,"string"==typeof s.type?s.type:void 0);if(c)return;let d=await eL({intent:o,params:{...s,id:t,type:a},payload:l,rootPaneNode:n,structureContext:i});c||e({panes:d},{replace:!0})})().catch(a),()=>{c=!0}}},[r,t,e,n,i]),null});var eY=Object.freeze,eZ=Object.defineProperty;let eU=ea.ZP.span(d||(d=eY(eZ(i=["\n  &:not(:last-child)::after {\n    content: ' ➝ ';\n    opacity: 0.5;\n  }\n"],"raw",{value:eY(i.slice())}))));function eB(e){let{error:t}=e;if(!(t instanceof eC))throw t;let{cause:n}=t,i=(null==n?void 0:n.stack)||t.stack,r=i&&!(n instanceof P.zc)&&!t.message.includes("Module build failed:"),o=n instanceof P.zc?n.path:[],a=n instanceof P.zc&&n.helpId||t.helpId,s=(0,k.useCallback)(()=>{window.location.reload()},[]);return(0,E.jsx)(C.Zb,{height:"fill",overflow:"auto",padding:4,sizing:"border",tone:"critical",children:(0,E.jsxs)(C.W2,{children:[(0,E.jsx)(C.X6,{as:"h2",children:"Encountered an error while reading structure"}),(0,E.jsxs)(C.Zb,{marginTop:4,padding:4,radius:2,overflow:"auto",shadow:1,tone:"inherit",children:[o.length>0&&(0,E.jsxs)(C.Kq,{space:2,children:[(0,E.jsx)(C.__,{children:"Structure path"}),(0,E.jsx)(C.EK,{children:o.slice(1).map((e,t)=>(0,E.jsx)(eU,{children:e},"".concat(e,"-").concat(t)))})]}),(0,E.jsxs)(C.Kq,{marginTop:4,space:2,children:[(0,E.jsx)(C.__,{children:"Error"}),(0,E.jsx)(C.EK,{children:r?i.replace(/\(\.\.\.\)\./g,"(...)\n  .").replace(/__WEBPACK_IMPORTED_MODULE_\d+_+/g,"").replace(/___default\./g,".").replace(RegExp(" \\(https?:\\/\\/".concat(window.location.host),"g")," ("):t.message})]}),a&&(0,E.jsx)(C.xu,{marginTop:4,children:(0,E.jsx)(C.xv,{children:(0,E.jsx)("a",{href:(0,et.h)(a),rel:"noopener noreferrer",target:"_blank",children:"View documentation"})})}),(0,E.jsx)(C.xu,{marginTop:4,children:(0,E.jsx)(C.zx,{text:"Reload",icon:es.bnu,tone:"primary",onClick:s})})]})]})})}function eK(e){let{isSelected:t,pane:n,paneKey:i}=e,r=(0,ee.Uy$)(n)&&n.type||null;return(0,E.jsxs)(P.X6,{id:i,selected:t,children:[(0,E.jsx)(P.hX,{title:"Unknown pane type"}),(0,E.jsx)(P.Bh,{children:(0,E.jsx)(C.xu,{padding:4,children:"string"==typeof r?(0,E.jsxs)(C.xv,{as:"p",muted:!0,children:["Structure item of type ",(0,E.jsx)("code",{children:r})," is not a known entity."]}):(0,E.jsxs)(C.xv,{as:"p",muted:!0,children:["Structure item is missing required ",(0,E.jsx)("code",{children:"type"})," property."]})})})]})}function eV(e){let t=[{ms:300,message:"Loading…"},{ms:5e3,message:"Still loading…"}];if(ee.r8Q){let n=["Check console for errors?","Is your observable/promise resolving?",e.length>0?"Structure path: ".concat(e.join(" ➝ ")):""];t.push({ms:1e4,message:n.join("\n")})}let n=(0,N.of)(null);return(0,F.T)(...t.map(e=>{let{ms:t,message:i}=e;return n.pipe((0,$.h)(i),(0,G.g)(t))}))}var eX=Object.freeze,eH=Object.defineProperty;let e$=(0,ea.ZP)(C.kC)(u||(u=eX(eH(r=["\n  opacity: 0;\n  transition: opacity 200ms;\n\n  &[data-mounted] {\n    opacity: 1;\n  }\n"],"raw",{value:eX(r.slice())})))),eG=(0,k.memo)(e=>{let{delay:t=300,flex:n,message:i=eV,minWidth:r,paneKey:o,path:a,selected:s,title:l,tone:c}=e,d=(0,k.useMemo)(()=>"function"==typeof i?i(a?a.split(";"):[]):i,[i,a]),[u,p]=(0,k.useState)(()=>"string"==typeof d?d:"Loading…");(0,k.useEffect)(()=>{if("object"!=typeof d||"function"==typeof d.subscribe)return;let e=d.subscribe(p);return()=>e.unsubscribe()},[d]);let[h,f]=(0,k.useState)(null),[x,m]=(0,k.useState)(!1);(0,k.useEffect)(()=>{if(h)return(0,C.RE)(()=>m(!0))},[h]);let g=(0,E.jsxs)(e$,{align:"center","data-mounted":x?"":void 0,direction:"column",height:"fill",justify:"center",ref:f,children:[(0,E.jsx)(C.$j,{muted:!0}),(l||u)&&(0,E.jsx)(C.xu,{marginTop:3,children:(0,E.jsx)(C.xv,{align:"center",muted:!0,size:1,children:l||u})})]});return(0,E.jsx)(P.X6,{flex:n,id:o,minWidth:r,selected:s,tone:c,children:(0,E.jsx)(P.Bh,{children:g})})});eG.displayName="LoadingPane";let eJ={component:(0,k.lazy)(()=>n.e(624).then(n.bind(n,43624))),document:(0,k.lazy)(()=>n.e(462).then(n.bind(n,18462))),documentList:(0,k.lazy)(()=>n.e(786).then(n.bind(n,36786))),list:(0,k.lazy)(()=>n.e(515).then(n.bind(n,20515)))},eQ=(0,k.memo)(function(e){let{active:t,childItemId:n,groupIndex:i,index:r,itemId:o,pane:a,paneKey:s,params:l,payload:c,path:d,selected:u,siblingIndex:p}=e,h=eJ[a.type]||eK;return(0,E.jsx)(ey,{flatIndex:r,index:i,params:l,payload:c,siblingIndex:p,children:(0,E.jsx)(k.Suspense,{fallback:(0,E.jsx)(eG,{paneKey:s,path:d,selected:u}),children:(0,E.jsx)(h,{childItemId:n||"",index:r,itemId:o,isActive:t,isSelected:u,paneKey:s,pane:a})})})},(e,t)=>{let{params:n={},payload:i=null,...r}=e,{params:o={},payload:a=null,...s}=t;if(!ei()(n,o)||!ei()(i,a))return!1;let l=new Set([...Object.keys(r),...Object.keys(s)]);for(let e of l)if(r[e]!==s[e])return!1;return!0});function e0(e){let{children:t,currentMinWidth:n,flex:i,minWidth:r,paneKey:o,title:a="Error",tone:s="critical"}=e;return(0,E.jsxs)(P.X6,{currentMinWidth:n,flex:i,id:o,minWidth:r,tone:s,children:[(0,E.jsx)(P.hX,{title:a}),(0,E.jsx)(P.Bh,{overflow:"auto",children:(0,E.jsx)(C.xu,{paddingX:4,paddingY:5,children:t})})]})}let e1=["patch","commit"],e2=(0,k.memo)(function(){let{push:e}=(0,C.pm)(),{documentId:t,documentType:n}=(0,P.Z3)(),i=(0,ee.E6V)(t,n),r=(0,k.useRef)(i);return(0,k.useEffect)(()=>{if(i&&i!==r.current){var t,n;"error"===i.type&&e({closable:!0,duration:3e4,status:"error",title:"delete"===(t=i.op)?"An error occurred while attempting to delete this document.\n      This usually means that there are other documents that refers to it.":"unpublish"===t?"An error occurred while attempting to unpublish this document.\n      This usually means that there are other documents that refers to it.":"An error occurred during ".concat(t),description:(0,E.jsxs)("details",{children:[(0,E.jsx)("summary",{children:"Details"}),i.error.message]})}),"success"!==i.type||e1.includes(i.op)||e({closable:!0,status:"success",title:"publish"===(n=i.op)?"The document was published":"unpublish"===n?"The document was unpublished. A draft has been created from the latest published version.":"discardChanges"===n?"All changes since last publish has now been discarded. The discarded draft can still be recovered from history":"delete"===n?"The document was successfully deleted":"Successfully performed ".concat(n," on document")}),r.current=i}},[i,e]),null});function e3(e,t,n){let i=(0,ee.F2f)(),[r,o]=(0,k.useState)(n),a=(0,k.useMemo)(()=>i.forNamespace("desk-tool"),[i]),s=(0,k.useMemo)(()=>e?a.forNamespace(e).forKey(t):a.forKey(t),[a,e,t]);(0,k.useEffect)(()=>{let e=s.listen(n).subscribe({next:o});return()=>null==e?void 0:e.unsubscribe()},[n,t,e,s]);let l=(0,k.useCallback)(e=>{o(e),s.set(e)},[s]);return(0,k.useMemo)(()=>[r,l],[l,r])}let e4={id:"parsed",title:"Parsed"},e5={id:"raw",title:"Raw JSON"},e6=[e4,e5],e8=ex()(1e3);function e7(e){let{path:t}=e,n=e8.get(t);void 0!==n&&e8.set(t,!n)}function e9(e){let t=window.getSelection();if(t){let n=document.createRange();t.removeAllRanges(),n.selectNodeContents(e),t.addRange(n)}}function te(e){e9(e.currentTarget)}function tt(e){let t=65===e.keyCode&&(e.metaKey||e.ctrlKey);t&&(e.preventDefault(),e9(e.currentTarget))}var tn=Object.freeze,ti=Object.defineProperty,tr=(e,t)=>tn(ti(e,"raw",{value:tn(t||e.slice())}));let to=ea.ZP.div(e=>{let{theme:t}=e,{color:n,fonts:i,space:r}=t.sanity;return(0,ea.iv)(p||(p=tr(["\n    & .json-inspector,\n    & .json-inspector .json-inspector__selection {\n      font-family: ",";\n      font-size: ","px;\n      line-height: ","px;\n      color: var(--card-code-fg-color);\n    }\n\n    & .json-inspector .json-inspector__leaf {\n      padding-left: ",";\n    }\n\n    & .json-inspector .json-inspector__leaf.json-inspector__leaf_root {\n      padding-top: ",";\n      padding-left: 0;\n    }\n\n    & .json-inspector > .json-inspector__leaf_root > .json-inspector__line > .json-inspector__key {\n      display: none;\n    }\n\n    & .json-inspector .json-inspector__line {\n      display: block;\n      position: relative;\n      cursor: default;\n    }\n\n    & .json-inspector .json-inspector__line::after {\n      content: '';\n      position: absolute;\n      top: 0;\n      left: -200px;\n      right: -50px;\n      bottom: 0;\n      z-index: -1;\n      pointer-events: none;\n    }\n\n    & .json-inspector .json-inspector__line:hover::after {\n      background: var(--card-code-bg-color);\n    }\n\n    & .json-inspector .json-inspector__leaf_composite > .json-inspector__line {\n      cursor: pointer;\n    }\n\n    & .json-inspector .json-inspector__leaf_composite > .json-inspector__line::before {\n      content: '▸ ';\n      margin-left: calc(0 - "," + 3px);\n      font-size: ","px;\n      line-height: ","px;\n    }\n\n    &\n      .json-inspector\n      .json-inspector__leaf_expanded.json-inspector__leaf_composite\n      > .json-inspector__line::before {\n      content: '▾ ';\n      font-size: ","px;\n      line-height: ","px;\n    }\n\n    & .json-inspector .json-inspector__radio,\n    & .json-inspector .json-inspector__flatpath {\n      display: none;\n    }\n\n    & .json-inspector .json-inspector__value {\n      margin-left: ",";\n    }\n\n    &\n      .json-inspector\n      > .json-inspector__leaf_root\n      > .json-inspector__line\n      > .json-inspector__key\n      + .json-inspector__value {\n      margin: 0;\n    }\n\n    & .json-inspector .json-inspector__key {\n      color: ",";\n    }\n\n    & .json-inspector .json-inspector__value_helper,\n    & .json-inspector .json-inspector__value_null {\n      color: ",";\n    }\n\n    & .json-inspector .json-inspector__not-found {\n      padding-top: ",";\n    }\n\n    & .json-inspector .json-inspector__value_string {\n      color: ",";\n    }\n\n    & .json-inspector .json-inspector__value_boolean {\n      color: ",";\n    }\n\n    & .json-inspector .json-inspector__value_number {\n      color: ",";\n    }\n\n    & .json-inspector .json-inspector__show-original {\n      display: inline-block;\n      padding: 0 6px;\n      cursor: pointer;\n    }\n\n    & .json-inspector .json-inspector__show-original:hover {\n      color: inherit;\n    }\n\n    & .json-inspector .json-inspector__show-original::before {\n      content: '↔';\n    }\n\n    & .json-inspector .json-inspector__show-original:hover::after {\n      content: ' expand';\n    }\n  "])),i.code.family,i.code.sizes[2].fontSize,i.code.sizes[2].lineHeight,(0,C.hO)(r[4]),(0,C.hO)(r[3]),(0,C.hO)(r[4]),i.code.sizes[2].fontSize,i.code.sizes[2].lineHeight,i.code.sizes[2].fontSize,i.code.sizes[2].lineHeight,(0,C.hO)(r[4]/2),n.syntax.property,n.syntax.constant,(0,C.hO)(r[3]),n.syntax.string,n.syntax.boolean,n.syntax.number)});function ta(e){let{onChange:t,query:n}=e,i=(0,k.useCallback)(e=>t(e.target.value),[t]);return(0,E.jsx)(C.oi,{icon:es.W1M,onChange:i,placeholder:"Search",radius:2,value:n||""})}function ts(e){let{value:t}=e,{onInspectClose:n,paneKey:i}=(0,P.Z3)(),r="".concat(i,"_inspect_"),[o,a]=e3("desk-tool","inspect-view-preferred-view-mode-".concat(i),"parsed"),s=e6.find(e=>e.id===o),l=(0,k.useCallback)(()=>{a(e4.id)},[a]),c=(0,k.useCallback)(()=>{a(e5.id)},[a]);return(0,E.jsx)(C.Vq,{id:"".concat(r,"dialog"),header:(0,ee.Uy$)(t)&&(0,ee.HD0)(t._id)&&(0,ee.HD0)(t._type)?(0,E.jsxs)(E.Fragment,{children:["Inspecting"," ",(0,E.jsx)("em",{children:(0,E.jsx)(P.lU,{document:t})})]}):(0,E.jsx)("em",{children:"No value"}),onClose:n,onClickOutside:n,width:3,children:(0,E.jsxs)(C.kC,{direction:"column",height:"fill",children:[(0,E.jsx)(C.Zb,{padding:3,shadow:1,style:{position:"sticky",bottom:0,zIndex:3},children:(0,E.jsxs)(C.td,{space:1,children:[(0,E.jsx)(C.OK,{"aria-controls":"".concat(r,"tabpanel"),fontSize:1,id:"".concat(r,"tab-").concat(e4.id),label:e4.title,onClick:l,selected:s===e4}),(0,E.jsx)(C.OK,{"aria-controls":"".concat(r,"tabpanel"),fontSize:1,id:"".concat(r,"tab-").concat(e5.id),label:e5.title,onClick:c,selected:s===e5})]})}),(0,E.jsxs)(C.x4,{"aria-labelledby":"".concat(r,"tab-").concat(o),flex:1,id:"".concat(r,"tabpanel"),overflow:"auto",padding:4,style:{outline:"none"},children:[s===e4&&(0,E.jsx)(to,{children:(0,E.jsx)(eh(),{data:t,isExpanded:function e(t,n){let i=e8.get(t);return void 0===i?(e8.set(t,Array.isArray(n)||(0,ee.Uy$)(n)),e(t,n)):i},onClick:e7,search:ta})}),s===e5&&(0,E.jsx)(C.EK,{language:"json",tabIndex:0,onKeyDown:tt,onDoubleClick:te,onFocus:te,children:JSON.stringify(t,null,2)})]})]})})}var tl=Object.freeze,tc=Object.defineProperty,td=(e,t)=>tl(tc(e,"raw",{value:tl(t||e.slice())}));let tu=(0,ea.ZP)(C.Zb)(h||(h=td(["\n  position: relative;\n  z-index: 50;\n"]))),tp=(0,ea.ZP)(C.xv)(f||(f=td(["\n  & > * {\n    overflow: hidden;\n    overflow: clip;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n  }\n"]))),th=(0,k.memo)(()=>{var e,t,n,i,r,o;let a=(0,ee.rq_)(),{params:s,groupIndex:l,routerPanesState:c,replaceCurrent:d,BackLink:u}=(0,P.RL)(),p=null==(e=c[l])?void 0:e[0].id,h=c[l-1],f=null==h?void 0:h[0],x=null==f?void 0:f.id,m=!!(null==(t=null==f?void 0:f.params)?void 0:t.rev),g=(0,k.useMemo)(()=>(null==s?void 0:s.parentRefPath)&&(0,ed.mL)(s.parentRefPath)||null,[null==s?void 0:s.parentRefPath]),j=(0,eu.m2)(()=>{let e=null==g?void 0:g[0];if(!x||!e||!g)return(0,N.of)({loading:!1});let t=(0,ee.vsM)(x),n=(0,ed.mL)(e),i=n.findIndex(e=>"object"==typeof e&&"_key"in e);return(0,L.z)((0,N.of)({loading:!0}),a.unstable_observePathsDocumentPair(t,-1===i?n:n.slice(0,i)).pipe((0,J.b)(750),(0,U.U)(e=>{var t;let{draft:n,published:i}=e;return{loading:!1,result:{availability:{draft:n.availability,published:i.availability},refValue:null==(t=(0,ed.U2)(n.snapshot||i.snapshot,g))?void 0:t._ref}}})))},[a,x,g],{loading:!0}),v=(0,k.useCallback)(()=>{var e;!j.loading&&(null==(e=j.result)?void 0:e.refValue)&&d({id:j.result.refValue,params:s})},[j.loading,j.result,d,s]),y=!x||!g||m||j.loading||!(null==(n=j.result)?void 0:n.availability.draft.available)&&!(null==(i=j.result)?void 0:i.availability.published.available)||(null==(r=j.result)?void 0:r.refValue)===p;return y?null:(0,E.jsx)(tu,{shadow:1,tone:"caution","data-testid":"reference-changed-banner",children:(0,E.jsx)(C.W2,{paddingX:4,paddingY:2,sizing:"border",width:1,children:(0,E.jsxs)(C.kC,{align:"center",children:[(0,E.jsx)(C.xv,{size:1,children:(0,E.jsx)(es.foC,{})}),(null==(o=j.result)?void 0:o.refValue)?(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(C.xu,{flex:1,marginLeft:3,children:(0,E.jsx)(tp,{title:"This reference has changed since you opened it.",size:1,children:"This reference has changed since you opened it."})}),(0,E.jsx)(C.xu,{marginLeft:3,children:(0,E.jsx)(C.zx,{onClick:v,icon:es.bnu,fontSize:1,mode:"ghost",padding:2,space:2,text:"Reload reference"})})]}):(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(C.xu,{flex:1,marginLeft:3,children:(0,E.jsx)(tp,{title:"This reference has been removed since you opened it.",size:1,children:"This reference has been removed since you opened it."})}),(0,E.jsx)(C.xu,{marginLeft:3,children:(0,E.jsx)(C.zx,{as:u,icon:es.Two,fontSize:1,mode:"ghost",padding:2,space:2,text:"Close reference"})})]})]})})})});th.displayName="ReferenceChangedBanner";var tf=Object.freeze,tx=Object.defineProperty;let tm=(0,ea.ZP)(C.Zb)(x||(x=tf(tx(o=["\n  position: relative;\n  z-index: 50;\n"],"raw",{value:tf(o.slice())}))));function tg(e){var t,n;let{granted:i,requiredPermission:r}=e,o=(0,ee.xJ)(),a=(null==(t=null==o?void 0:o.roles)?void 0:t.length)!==1,s=((null==(n=null==o?void 0:o.roles)?void 0:n.map(e=>(0,E.jsx)("code",{children:e.title},e.name)))||[]).reduce((e,t)=>null===e?[t]:e.concat([", ",t]),null);return i?null:(0,E.jsx)(tm,{"data-testid":"permission-check-banner",shadow:1,tone:"transparent",children:(0,E.jsx)(C.W2,{paddingX:4,paddingY:3,sizing:"border",width:1,children:(0,E.jsxs)(C.kC,{align:"flex-start",children:[(0,E.jsx)(C.xv,{size:1,children:(0,E.jsx)(es.CPA,{})}),(0,E.jsx)(C.xu,{flex:1,marginLeft:3,children:(0,E.jsxs)(C.xv,{size:1,children:["Your role",a&&"s"," ",s," ",a?"do":"does"," not have permissions to"," ",r," this document."]})})]})})})}let tj=e=>e.preventDefault(),tv=(0,k.forwardRef)(function(e,t){var n;let{hidden:i,margins:r}=e,{collapsedFieldSets:o,collapsedPaths:a,displayed:s,editState:l,documentId:c,documentType:d,fieldActions:u,onChange:p,validation:h,ready:f,formState:x,onFocus:m,onBlur:g,onSetCollapsedPath:j,onPathOpen:v,onSetCollapsedFieldSet:y,onSetActiveFieldGroup:b}=(0,P.Z3)(),_=(0,ee.H__)(),w=(0,ee.Dqo)(c),S=(0,k.useMemo)(()=>(0,ee.fm0)(),[]),I=null==(n=null==l?void 0:l.transactionSyncLock)?void 0:n.enabled;!function(e){let t=(0,C.pm)(),n=function(e){let t=(0,k.useRef)();return(0,k.useEffect)(()=>{t.current=e},[e]),t.current}(e.enabled);(0,k.useEffect)(()=>{!n&&e.enabled&&t.push({...e,duration:20736e5}),n&&!e.enabled&&t.push({...e,duration:.01})},[e,t,n])}({id:"sync-lock-".concat(c),status:"warning",enabled:I,title:"Syncing document…",description:"Please hold tight while the document is synced. This usually happens right after the document has been published, and it shouldn't take more than a few seconds"}),(0,k.useEffect)(()=>{let e=_.pair.documentEvents(c,d).pipe((0,Q.b)(e=>{"mutation"===e.type&&S.publish(function(e){let t=e.mutations.map(e=>e.patch).filter(Boolean);return{type:"mutation",snapshot:e.document,patches:(0,ee.Sis)(e.origin,t)}}(e)),"rebase"===e.type&&S.publish(function(e){let t=e.remoteMutations.map(e=>e.patch).filter(Boolean),n=e.localMutations.map(e=>e.patch).filter(Boolean);return{type:"rebase",snapshot:e.document,patches:(0,ee.Sis)("remote",t).concat((0,ee.Sis)("local",n))}}(e))})).subscribe();return()=>{e.unsubscribe()}},[c,_,d,S]);let O=!!(null==s?void 0:s._rev);(0,k.useEffect)(()=>{O&&S.publish({type:"mutation",patches:[],snapshot:s})},[O]);let[M,N]=(0,k.useState)(null);(0,k.useEffect)(()=>{f&&!(null==x?void 0:x.focusPath.length)&&M&&(0,C.fo)(M)},[f]);let z=(0,k.useCallback)(e=>{N(e),"function"==typeof t?t(e):t&&(t.current=e)},[t]);return(0,E.jsx)(C.W2,{hidden:i,paddingX:4,paddingTop:5,paddingBottom:9,sizing:"border",width:1,children:(0,E.jsx)(ee.$rW,{margins:r,children:(0,E.jsx)(C.xu,{as:"form",onSubmit:tj,ref:z,children:f?null===x?(0,E.jsx)(C.xu,{padding:2,children:(0,E.jsx)(C.xv,{children:"This form is hidden"})}):(0,E.jsx)(ee.quP,{__internal_fieldActions:u,__internal_patchChannel:S,collapsedFieldSets:o,collapsedPaths:a,focusPath:x.focusPath,changed:x.changed,focused:x.focused,groups:x.groups,id:"root",members:x.members,onChange:p,onFieldGroupSelect:b,onPathBlur:g,onPathFocus:m,onPathOpen:v,onSetFieldSetCollapsed:y,onSetPathCollapsed:j,presence:w,readOnly:x.readOnly,schemaType:x.schemaType,validation:h,value:x.value}):(0,E.jsx)(P.cN,{ms:300,children:(0,E.jsxs)(C.kC,{align:"center",direction:"column",height:"fill",justify:"center",children:[(0,E.jsx)(C.$j,{muted:!0}),(0,E.jsx)(C.xu,{marginTop:3,children:(0,E.jsx)(C.xv,{align:"center",muted:!0,size:1,children:"Loading document"})})]})})})})})});function ty(){let{activeViewId:e,paneKey:t,views:n}=(0,P.Z3)(),i="".concat(t,"tabpanel");return(0,E.jsx)(C.td,{space:1,children:n.map((n,r)=>{var o;return(0,E.jsx)(tb,{icon:n.icon,id:"".concat(t,"tab-").concat(n.id),isActive:e===n.id,label:(0,E.jsx)(E.Fragment,{children:n.title}),tabPanelId:i,viewId:0===r?null:null!=(o=n.id)?o:null},n.id)})})}function tb(e){let{isActive:t,tabPanelId:n,viewId:i}=e,{ready:r}=(0,P.Z3)(),{setView:o}=(0,P.RL)(),a=(0,k.useCallback)(()=>o(i),[o,i]);return(0,E.jsx)(C.OK,{...e,"aria-controls":n,disabled:!r,fontSize:1,selected:t,onClick:a})}function t_(){let{connectionState:e,schemaType:t,title:n,value:i}=(0,P.Z3)(),{error:r,value:o}=(0,ee._2T)({enabled:!!i&&"connected"===e,schemaType:t,value:i});return"connected"!==e?(0,E.jsx)(E.Fragment,{}):n?(0,E.jsx)(E.Fragment,{children:n}):i?r?(0,E.jsxs)(E.Fragment,{children:["Error: ",r.message]}):(0,E.jsx)(E.Fragment,{children:(null==o?void 0:o.title)||(0,E.jsx)("span",{style:{color:"var(--card-muted-fg-color)"},children:"Untitled"})}):(0,E.jsxs)(E.Fragment,{children:["New ",(null==t?void 0:t.title)||(null==t?void 0:t.name)]})}let tw=(0,k.memo)((0,k.forwardRef)(function(e,t){let{onMenuAction:n,onPaneClose:i,onPaneSplit:r,menuItems:o,menuItemGroups:a,schemaType:s,timelineStore:l,ready:c,views:d,unstable_languageFilter:u}=(0,P.Z3)(),{features:p}=(0,P.xu)(),{index:h,BackLink:f,hasGroupSiblings:x}=(0,P.RL)(),{actions:m}=(0,ee.qGk)(),g=(0,k.useMemo)(()=>(0,P.k$)({actionHandler:n,fieldActions:m,menuItems:o,menuItemGroups:a}),[n,m,a,o]),j=(0,k.useMemo)(()=>g.filter(P.Ie),[g]),v=(0,k.useMemo)(()=>g.filter(P.c9),[g]),y=d.length>1,b=(0,ee.P08)(l,e=>e.revTime),{collapsed:_,isLast:w}=(0,P.ec)(),S=w&&!_?-1:0,I=p.splitViews&&r&&d.length>1,O=I&&x,M=!O&&!p.backButton;return(0,E.jsx)(P.hX,{ref:t,loading:!c,title:(0,E.jsx)(t_,{}),tabs:y&&(0,E.jsx)(ty,{}),tabIndex:S,backButton:p.backButton&&h>0&&(0,E.jsx)(C.zx,{as:f,"data-as":"a",icon:es.Y4O,mode:"bleed",padding:2}),subActions:(0,E.jsx)(P.Hj,{chunk:b,mode:"rev",placement:"bottom-end"}),actions:(0,E.jsxs)(C.kC,{align:"center",gap:1,children:[u.length>0&&(0,E.jsx)(E.Fragment,{children:u.map((e,t)=>(0,k.createElement)(e,{key:"language-filter-".concat(t),schemaType:s}))}),j.map(e=>(0,E.jsx)(P.mE,{node:e},e.key)),(0,E.jsx)(P.eu,{nodes:v},"context-menu"),I&&(0,E.jsx)(C.u,{content:(0,E.jsx)(C.xv,{size:1,style:{whiteSpace:"nowrap"},children:"Split pane right"}),padding:2,placement:"bottom",portal:!0,children:(0,E.jsx)(C.zx,{"aria-label":"Split pane right",icon:es.iro,mode:"bleed",onClick:r},"split-pane-button")}),O&&(0,E.jsx)(C.zx,{icon:es.Two,mode:"bleed",onClick:i,title:"Close split pane"},"close-view-button"),M&&(0,E.jsx)(C.zx,{icon:es.Two,mode:"bleed",title:"Close pane group",as:f},"close-view-button")]})})}));var tE=Object.freeze,tk=Object.defineProperty,tC=(e,t)=>tE(tk(e,"raw",{value:tE(t||e.slice())}));let tP=(0,ea.ZP)(C.xu)({position:"relative"}),tS=(0,ea.ZP)(ee.l$t)(e=>{let{$disabled:t}=e;return t?{height:"100%"}:(0,ea.iv)(m||(m=tC(["\n    height: 100%;\n    overflow: auto;\n    position: relative;\n    scroll-behavior: smooth;\n    outline: none;\n  "])))}),tI=function(e){let{footerHeight:t,isInspectOpen:n,rootElement:i,setDocumentPanelPortalElement:r}=e,{activeViewId:o,displayed:a,documentId:s,editState:l,inspector:c,value:d,views:u,ready:p,schemaType:h,permissions:f,isPermissionsLoading:x}=(0,P.Z3)(),{collapsed:m}=(0,P.Cc)(),{collapsed:g}=(0,P.ec)(),j=(0,C.vI)(),{features:v}=(0,P.xu)(),[y,b]=(0,k.useState)(null),_=(0,C.XL)(y),w=(0,k.useRef)(null),[S,I]=(0,k.useState)(null),O=(0,k.useRef)(null),M=d._createdAt?"update":"create",N=(0,k.useMemo)(()=>u.find(e=>e.id===o)||u[0]||{type:"form"},[o,u]),z=v.splitPanes&&w.current||j.element,R=(0,k.useMemo)(()=>m?[(null==_?void 0:_.height)||0,0,t?t+2:2,0]:[0,0,2,0],[m,t,_]),D="form"!==N.type,L=(0,k.useMemo)(()=>"component"===N.type&&N.component&&(0,k.createElement)(N.component,{document:{draft:(null==l?void 0:l.draft)||null,displayed:a||d,historical:a,published:(null==l?void 0:l.published)||null},documentId:s,options:N.options,schemaType:h}),[N,a,s,null==l?void 0:l.draft,null==l?void 0:l.published,h,d]);(0,k.useEffect)(()=>{(null==S?void 0:S.scrollTo)&&S.scrollTo(0,0)},[s,S]),(0,k.useEffect)(()=>{z&&r(z)},[z,r]);let T=(0,k.useMemo)(()=>n?(0,E.jsx)(ts,{value:a||d}):null,[n,a,d]),A=!!(!g&&c);return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(tw,{ref:b}),(0,E.jsx)(P.Bh,{children:(0,E.jsxs)(C.kC,{height:"fill",children:[(v.resizablePanes||!A)&&(0,E.jsx)(tP,{flex:2,overflow:"hidden",children:(0,E.jsx)(C.Xp,{element:z,__unstable_elements:{documentScrollElement:S},children:(0,E.jsx)(C.NM,{element:S,children:(0,E.jsxs)(ee.Ahg,{scrollElement:S,containerElement:O,children:["form"===N.type&&!x&&p&&(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(tg,{granted:!!(null==f?void 0:f.granted),requiredPermission:M}),(0,E.jsx)(th,{})]}),(0,E.jsxs)(tS,{$disabled:m||!1,"data-testid":"document-panel-scroller",ref:I,children:[(0,E.jsx)(tv,{hidden:D,margins:R,ref:O},s+(p?"_ready":"_pending")),L]}),T,(0,E.jsx)("div",{"data-testid":"document-panel-portal",ref:w})]})})})}),A&&(0,E.jsx)(C.NM,{element:i,children:(0,E.jsx)(e_,{documentId:s,documentType:h.name,flex:1})})]})})]})},tO=["left","bottom"],tM={small:0,medium:1,large:2,full:"auto"};function tN(e){let{dialog:t,referenceElement:n}=e;return(0,E.jsx)(C.J2,{content:(0,E.jsx)(tz,{dialog:t}),fallbackPlacements:tO,open:!0,placement:"top",portal:!0,preventOverflow:!0,referenceElement:n})}function tz(e){let{dialog:t}=e,{cancelButtonIcon:n,cancelButtonText:i,confirmButtonIcon:r,confirmButtonText:o,message:a,onCancel:s,onConfirm:l,tone:c}=t,{isTopLayer:d}=(0,C.sJ)(),[u,p]=(0,k.useState)(null),h=(0,k.useCallback)(()=>{d&&s()},[d,s]),f=(0,k.useCallback)(e=>{"Escape"===e.key&&d&&s()},[d,s]);return(0,C.O8)(h,[u]),(0,C.qh)(f),(0,E.jsxs)(C.kC,{direction:"column",ref:p,style:{minWidth:304,maxWidth:400},children:[(0,E.jsx)(C.xu,{flex:1,overflow:"auto",padding:4,children:(0,E.jsx)(C.xv,{children:a})}),(0,E.jsx)(C.xu,{paddingX:4,paddingY:3,style:{borderTop:"1px solid var(--card-border-color)"},children:(0,E.jsxs)(C.rj,{columns:2,gap:2,children:[(0,E.jsx)(C.zx,{icon:n,onClick:s,mode:"ghost",text:i||"Cancel"}),(0,E.jsx)(C.zx,{icon:r,onClick:l,text:o||"Confirm",tone:c})]})})]})}function tR(e){let{dialog:t}=e,n=(0,k.useId)(),i=t.footer&&(0,E.jsx)(C.xu,{paddingX:4,paddingY:3,children:t.footer});return(0,E.jsx)(ee.jr5,{zOffset:"fullscreen",children:(0,E.jsx)(C.Vq,{__unstable_hideCloseButton:!1===t.showCloseButton,footer:i,header:t.header,id:n,onClose:t.onClose,onClickOutside:t.onClose,width:void 0===t.width?1:tM[t.width],children:(0,E.jsx)(C.xu,{padding:4,children:t.content})})})}function tD(e){let{dialog:t,referenceElement:n}=e;return(0,E.jsx)(C.J2,{content:(0,E.jsx)(tL,{dialog:t}),fallbackPlacements:tO,open:!0,placement:"top",portal:!0,preventOverflow:!0,referenceElement:n})}function tL(e){let{dialog:t}=e,{content:n,onClose:i}=t,{isTopLayer:r}=(0,C.sJ)(),[o,a]=(0,k.useState)(null),s=(0,k.useCallback)(()=>{r&&i()},[r,i]),l=(0,k.useCallback)(e=>{"Escape"===e.key&&r&&i()},[r,i]);return(0,C.O8)(s,[o]),(0,C.qh)(l),(0,E.jsx)("div",{ref:a,children:n})}function tT(e){let{children:t}=e,{element:n,elements:i}=(0,C.vI)(),r=(null==i?void 0:i[P.BP])||n;return(0,E.jsx)(C.Xp,{element:r,children:t})}function tA(e){let{dialog:t,referenceElement:n=null}=e,i=(0,k.useId)();return"confirm"===t.type?(0,E.jsx)(tN,{dialog:t,referenceElement:n}):"popover"===t.type?(0,E.jsx)(tD,{dialog:t,referenceElement:n}):"dialog"!==t.type&&t.type?"custom"===t.type?(0,E.jsx)(tT,{children:null==t?void 0:t.component}):(console.warn("Unsupported modal type ".concat(t.type)),(0,E.jsx)(C.Vq,{id:i,onClose:t.onClose,onClickOutside:t.onClose,width:2,children:(0,E.jsx)(C.xu,{padding:4,children:t.content||(0,E.jsxs)(E.Fragment,{children:["Unexpected modal type (",(0,E.jsx)("code",{children:t.type}),")"]})})})):(0,E.jsx)(tT,{children:(0,E.jsx)(tR,{dialog:t})})}function tF(e){let{actionStates:t,disabled:n}=e,i=(0,k.useId)(),r=(0,k.useRef)(null),[o,a]=(0,k.useState)(-1),[s,l]=(0,k.useState)(null),c=(0,k.useCallback)(e=>{a(e)},[]),d=(0,k.useMemo)(()=>({placement:"top-end",portal:!0,preventOverflow:!0}),[]),u=t[o];return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(C.j2,{id:"".concat(i,"-action-menu"),button:(0,E.jsx)(C.zx,{"data-testid":"action-menu-button","aria-label":"Open document actions",disabled:n,icon:es.v4q,mode:"ghost",ref:r}),menu:(0,E.jsx)(C.v2,{padding:1,children:t.map((e,t)=>(0,E.jsx)(tW,{actionState:e,disabled:n,index:t,onAction:c},t))}),popover:d,ref:l}),u&&u.dialog&&(0,E.jsx)(ee.jr5,{zOffset:"paneFooter",children:(0,E.jsx)(tA,{dialog:u.dialog,referenceElement:s})})]})}function tW(e){let{actionState:t,disabled:n,index:i,onAction:r}=e,{onHandle:o}=t,a=(0,k.useCallback)(()=>{r(i),o&&o()},[i,r,o]),s=t.title&&(0,E.jsx)(C.xu,{padding:2,children:(0,E.jsx)(C.xv,{size:1,children:t.title})});return(0,E.jsx)(C.sN,{"data-testid":"action-".concat(t.label.replace(" ","")),disabled:n||!!t.disabled,onClick:a,padding:0,tone:t.tone,children:(0,E.jsx)(C.u,{content:s,disabled:!s,fallbackPlacements:["left","bottom"],placement:"top",portal:!0,children:(0,E.jsxs)(C.kC,{align:"center",paddingX:3,children:[(0,E.jsxs)(C.kC,{flex:1,paddingY:3,children:[t.icon&&(0,E.jsx)(C.xu,{marginRight:3,children:(0,E.jsxs)(C.xv,{children:[(0,k.isValidElement)(t.icon)&&t.icon,(0,el.isValidElementType)(t.icon)&&(0,k.createElement)(t.icon)]})}),(0,E.jsx)(C.xv,{children:t.label})]}),t.shortcut&&(0,E.jsx)(C.xu,{marginLeft:3,children:(0,E.jsx)(C.p8,{keys:String(t.shortcut).split("+").map(e=>e.slice(0,1).toUpperCase()+e.slice(1))})})]})})})}function tq(e){let{disabled:t,showMenu:n,states:i}=e,[r,...o]=i,[a,s]=(0,k.useState)(null),l=(0,k.useMemo)(()=>r&&(r.title||r.shortcut)?(0,E.jsxs)(C.kC,{padding:2,style:{maxWidth:300},align:"center",children:[(0,E.jsx)(C.xv,{size:1,children:r.title}),r.shortcut&&(0,E.jsx)(C.xu,{marginLeft:r.title?2:0,children:(0,E.jsx)(C.p8,{keys:String(r.shortcut).split("+").map(e=>e.slice(0,1).toUpperCase()+e.slice(1).toLowerCase())})})]}):null,[r]);return(0,E.jsxs)(C.kC,{children:[r&&(0,E.jsx)(C.li,{zOffset:200,children:(0,E.jsx)(C.u,{disabled:!l,content:l,portal:!0,placement:"top",children:(0,E.jsx)(C.Kq,{flex:1,children:(0,E.jsx)(C.zx,{"data-testid":"action-".concat(r.label),disabled:t||!!r.disabled,icon:r.icon,onClick:r.onHandle,ref:s,text:r.label,tone:r.tone||"primary"})})})}),n&&o.length>0&&(0,E.jsx)(C.xu,{marginLeft:1,children:(0,E.jsx)(tF,{actionStates:o,disabled:t})}),r&&r.dialog&&(0,E.jsx)(tA,{dialog:r.dialog,referenceElement:a})]})}let tY=(0,k.memo)(function(){let{actions:e,connectionState:t,documentId:n,editState:i}=(0,P.Z3)();return e&&i?(0,E.jsx)(eg,{actions:e,actionProps:i,children:i=>{let{states:r}=i;return(0,E.jsx)(tq,{disabled:"connected"!==t,showMenu:e.length>1,states:r},n)}}):null}),tZ=(0,k.memo)(function(){let{connectionState:e,editState:t,timelineStore:n}=(0,P.Z3)(),i=(0,ee.P08)(n,e=>e.revTime),r=(null==i?void 0:i.id)||"",o=((null==t?void 0:t.draft)||(null==t?void 0:t.published)||{})._rev===r,a=(0,k.useMemo)(()=>({...t||{},revision:r}),[t,r]),s=(0,k.useMemo)(()=>[P.Ty],[]);return(0,E.jsx)(eg,{actions:s,actionProps:a,children:t=>{let{states:n}=t;return(0,E.jsx)(tq,{disabled:"connected"!==e||!!o,showMenu:!1,states:n})}})}),tU={primary:"primary",success:"positive",warning:"caution",danger:"critical"};function tB(e){let{states:t}=e;return(0,E.jsx)(C.gF,{space:1,children:t.map((e,t)=>(0,E.jsx)(C.u,{content:e.title&&(0,E.jsx)(C.xu,{padding:2,children:(0,E.jsx)(C.xv,{size:1,children:e.title})}),disabled:!e.title,placement:"top",portal:!0,children:(0,E.jsx)(C.Ct,{fontSize:1,mode:"outline",paddingX:2,paddingY:1,radius:4,tone:e.color?tU[e.color]:void 0,style:{whiteSpace:"nowrap"},children:e.label})},String(t)))})}function tK(){let{badges:e,editState:t}=(0,P.Z3)();return t&&e?(0,E.jsx)(ej,{badges:e,badgeProps:t,children:e=>{let{states:t}=e;return(0,E.jsx)(tB,{states:t})}}):null}var tV=Object.freeze,tX=Object.defineProperty;let tH=(0,ea.ZP)(C.kC)(g||(g=tV(tX(a=["\n  cursor: default;\n"],"raw",{value:tV(a.slice())}))));function t$(e){let{collapsed:t,disabled:n,lastPublished:i,lastUpdated:r,liveEdit:o}=e,a=(0,ee.INm)(i||"",{minimal:!0,agoSuffix:!0}),s=(0,ee.INm)(i||"",{minimal:!0}),l=(0,ee.INm)(r||"",{minimal:!0,agoSuffix:!0}),c=(0,ee.INm)(r||"",{minimal:!0}),d=(0,ee.INm)(r||"",{minimal:!1,agoSuffix:!0}),u=(0,ee.INm)(i||"",{minimal:!1,agoSuffix:!0}),p=o?"Last updated ".concat(d):"Last published ".concat(u);return(0,E.jsx)(tH,{align:"center","data-ui":"SessionLayout",sizing:"border",children:(0,E.jsx)(C.u,{placement:"top",portal:!0,content:(0,E.jsx)(C.Kq,{padding:3,space:3,children:(0,E.jsx)(C.xv,{size:1,children:o?(0,E.jsxs)(E.Fragment,{children:["Last updated"," ",(0,E.jsx)("abbr",{"aria-label":r?d:u,children:r?l:a})]}):(0,E.jsxs)(E.Fragment,{children:["Last published ",(0,E.jsx)("abbr",{"aria-label":u,children:a})]})})}),children:(0,E.jsx)(C.zx,{mode:"bleed",tone:o?"critical":"positive",tabIndex:-1,disabled:n,"aria-label":p,children:(0,E.jsxs)(C.kC,{align:"center",children:[(0,E.jsx)(C.xu,{marginRight:t?0:3,children:(0,E.jsx)(C.xv,{size:2,"aria-hidden":"true",children:o?(0,E.jsx)(es.o1U,{}):(0,E.jsx)(es.EI4,{})})}),!t&&(0,E.jsx)(C.xv,{size:1,weight:"medium",children:o?(0,E.jsx)("abbr",{"aria-label":p,children:r?c:s}):(0,E.jsx)("abbr",{"aria-label":p,children:s})})]})})})})}var tG=Object.freeze,tJ=Object.defineProperty,tQ=(e,t)=>tG(tJ(e,"raw",{value:tG(t||e.slice())}));let t0=(0,ea.ZP)(em.E.path)(j||(j=tQ(["\n  transform-origin: center;\n"]))),t1=e=>(0,E.jsx)(em.E.circle,{fill:"none",r:"8",cx:"12.5",cy:"12.5",strokeWidth:"1.2",...e}),t2=e=>(0,E.jsx)(t0,{fill:"none",d:"M14 17.5619L11.5 20.5L14.5 23.0619M11 7.43811L13.5 4.50001L10.5 1.93811",...e}),t3=e=>(0,E.jsx)(em.E.path,{d:"M9.5 12.1316L11.7414 14.5L16 10",...e}),t4=e=>(0,E.jsx)(em.E.path,{d:"M15 7L18 10M6 19L7 15L17 5L20 8L10 18L6 19Z",...e}),t5=(0,ea.F4)(v||(v=tQ(["\n  0% {\n    transform: rotate(0);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n"]))),t6=ea.ZP.g(y||(y=tQ(["\n  transform-origin: center;\n\n  &[data-rotate] {\n    animation: "," 1s ease-in-out infinite;\n  }\n"])),t5),t8={syncing:{scale:1,transition:{duration:0}},saved:{scale:[1,.8,1.2,.9,1.1,.95,1.05,.99,1],transition:{duration:.5,delay:.2}},changes:{transition:{duration:0}}},t7={syncing:{strokeDasharray:"0, 0, 23, 3, 23, 3",strokeDashoffset:10,opacity:1,transition:{duration:0}},saved:{strokeDasharray:"0, 0, 23, 0, 23, 0",strokeDashoffset:10,opacity:1,transition:{duration:.2}},changes:{strokeDasharray:"0, 60, 23, 0, 23, 0",strokeDashoffset:0,opacity:0,transition:{duration:.5}}},t9={syncing:{opacity:1,transition:{duration:0}},saved:{opacity:0,transition:{duration:.2}},changes:{opacity:0}},ne={syncing:{pathLength:0,transition:{duration:0}},saved:{pathLength:1,transition:{delay:.4,duration:.3}},changes:{pathLength:0,transition:{duration:.2}}},nt={syncing:{pathLength:0,transition:{duration:0}},saved:{pathLength:0,transition:{duration:0}},changes:{pathLength:1,transition:{duration:.4,delay:.5}}};function nn(e){let{status:t}=e;return t?(0,E.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",stroke:"currentColor",strokeWidth:"1.2","data-sanity-icon":"",children:(0,E.jsxs)(em.E.g,{variants:t8,initial:t,animate:t,children:[(0,E.jsxs)(t6,{"data-rotate":"changes"===t?void 0:"",children:[(0,E.jsx)(t2,{variants:t9,initial:t,animate:t}),(0,E.jsx)(t1,{variants:t7,initial:t,animate:t})]}),(0,E.jsx)(t3,{variants:ne,initial:t,animate:t}),(0,E.jsx)(t4,{variants:nt,initial:t,animate:t})]})}):null}let ni=k.forwardRef(function(e,t){let{collapsed:n,status:i,lastUpdated:r,...o}=e,a=(0,ee.INm)(r||"",{minimal:!0}),s=(0,ee.INm)(r||"",{minimal:!0,agoSuffix:!0}),l=(0,ee.INm)(r||"",{minimal:!1,agoSuffix:!0}),c=(0,k.useMemo)(()=>"syncing"===i?{text:"Saving...",tone:void 0}:"changes"===i?{text:a,tone:"caution"}:"saved"===i?{text:"Saved!",tone:"positive"}:{},[i,a]);return i?(0,E.jsx)(C.u,{placement:"top",portal:!0,disabled:"changes"!==i,content:(0,E.jsxs)(C.Kq,{padding:3,space:3,children:[(0,E.jsx)(C.xv,{size:1,weight:"semibold",children:"Review changes"}),(0,E.jsxs)(C.xv,{size:1,muted:!0,children:["Changes saved ",(0,E.jsx)("abbr",{"aria-label":l,children:s})]})]}),children:(0,E.jsx)(C.zx,{mode:"bleed",justify:"flex-start",tone:null==c?void 0:c.tone,...o,"data-testid":"review-changes-button",ref:t,"aria-label":"Review changes",children:(0,E.jsxs)(C.kC,{align:"center",children:[(0,E.jsx)(C.xu,{marginRight:n?0:3,"aria-hidden":"true",children:(0,E.jsx)(C.xv,{children:(0,E.jsx)(nn,{status:i})})}),!n&&(0,E.jsx)(C.xv,{size:1,weight:"medium",children:null==c?void 0:c.text})]})})}):null}),nr=k.memo(ni),no=(0,k.memo)(function(){var e;let{changesOpen:t,documentId:n,documentType:i,editState:r,onHistoryClose:o,onHistoryOpen:a,timelineStore:s,value:l}=(0,P.Z3)(),c=(0,ee.nuD)(n,i),d=null==l?void 0:l._updatedAt,u=null==(e=null==r?void 0:r.published)?void 0:e._updatedAt,p=!!(null==r?void 0:r.liveEdit),h=!!(null==r?void 0:r.published),f=!!(null==r?void 0:r.draft),[x,m]=(0,k.useState)(null),g=(0,C.XL)(x),j=!g||(null==g?void 0:g.width)<300,[v,y]=(0,k.useState)(null),b=(0,ee.P08)(s,e=>e.onOlderRevision);(0,k.useEffect)(()=>{if("syncing"===v&&!c.isSyncing){let e=setTimeout(()=>y("saved"),1e3);return()=>clearTimeout(e)}if("saved"===v){let e=setTimeout(()=>y(null),3e3);return()=>clearTimeout(e)}},[v,d,c.isSyncing]),(0,k.useLayoutEffect)(()=>{y(null)},[n]),(0,k.useLayoutEffect)(()=>{c.isSyncing&&y("syncing")},[c.isSyncing,d]);let _=(0,k.useMemo)(()=>(0,E.jsx)(nr,{lastUpdated:d,status:v||(f?"changes":void 0),onClick:t?o:a,disabled:b,selected:t,collapsed:j}),[f,t,o,a,d,b,v,j]),w=(0,k.useMemo)(()=>(p||h)&&(0,E.jsx)(C.xu,{marginRight:1,children:(0,E.jsx)(t$,{disabled:b,lastPublished:u,lastUpdated:d,liveEdit:p,collapsed:j})}),[j,u,d,p,h,b]);return(0,E.jsxs)(C.kC,{align:"center","data-ui":"DocumentSparkline",ref:m,children:[w,(0,E.jsxs)(C.kC,{align:"center",flex:1,children:[_,!j&&(0,E.jsx)(C.xu,{marginLeft:3,children:(0,E.jsx)(tK,{})})]})]})});var na=Object.freeze,ns=Object.defineProperty;let nl=(0,ea.ZP)(C.xu)(b||(b=na(ns(s=["\n  min-width: 10em;\n  max-width: 16em;\n"],"raw",{value:na(s.slice())}))));function nc(e){let{actionsBoxRef:t}=e,{badges:n,timelineStore:i}=(0,P.Z3)(),r=(0,ee.P08)(i,e=>e.onOlderRevision);return(0,k.useMemo)(()=>(0,E.jsx)(C.xu,{paddingLeft:2,paddingRight:[2,3],paddingY:2,children:(0,E.jsxs)(C.kC,{align:"center",children:[(0,E.jsx)(C.xu,{flex:[1,2],children:n&&(0,E.jsx)(no,{})}),(0,E.jsx)(nl,{flex:1,marginLeft:[1,3],ref:t,children:r?(0,E.jsx)(tZ,{}):(0,E.jsx)(tY,{})})]})}),[t,n,r])}function nd(e){let{actionsBoxElement:t,activeIndex:n,as:i="div",children:r,id:o,onActionStart:a,onKeyDown:s,rootRef:l,states:c,...d}=e,u=c[n],p=(0,k.useCallback)(e=>{let t=c.filter(t=>t.shortcut&&(0,ec.ZP)(t.shortcut,e)),n=t[0];if(t.length>1&&console.warn('Keyboard shortcut conflict: More than one document action matches the shortcut "'.concat(n.shortcut,'"')),n&&!n.disabled&&n.onHandle){e.preventDefault(),n.onHandle(),a(c.indexOf(n));return}s&&s(e)},[a,s,c]);return(0,k.createElement)(i,{id:o,onKeyDown:p,tabIndex:-1,...d,ref:l},[r,u&&u.dialog&&(0,E.jsx)(ee.jr5,{zOffset:"paneFooter",children:(0,E.jsx)(tA,{dialog:u.dialog,referenceElement:t})})])}let nu=k.memo(e=>{let{actionsBoxElement:t,as:n="div",children:i,...r}=e,{actions:o,editState:a}=(0,P.Z3)(),[s,l]=(0,k.useState)(-1),c=(0,k.useCallback)(e=>{l(e)},[]),d=(0,k.useMemo)(()=>a&&{...a,onComplete:()=>void 0,revision:void 0},[a]);return d&&o?(0,E.jsx)(eg,{actionProps:d,actions:o,children:e=>{let{states:o}=e;return(0,E.jsx)(nd,{...r,activeIndex:s,actionsBoxElement:t,as:n,onActionStart:c,states:o,children:i})}}):null});nu.displayName="DocumentActionShortcuts";var np=Object.freeze,nh=Object.defineProperty;let nf=["fixed","absolute"],nx=(0,ea.ZP)(ee.jbM)(_||(_=np(nh(l=["\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  min-height: 0;\n  min-width: 0;\n"],"raw",{value:np(l.slice())})))),nm=(0,k.memo)(function(e){let{name:t}=(0,ee.Lky)();return(0,E.jsx)(ee.cWh,{name:e.pane.source||t,children:(0,E.jsx)(ng,{...e})})});function ng(e){var t;let{pane:n,paneKey:i}=e,{resolveNewDocumentOptions:r}=(0,ee.Lky)().document,o=(0,P.RL)(),a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(0,ee.zEW)();return(0,k.useMemo)(()=>{if(e.type&&"*"!==e.type)return e;let i=e.template||t.template,r=i?n.find(e=>e.id===i):void 0,o=null==r?void 0:r.schemaType;return o?{...e,type:o}:e},[e,t.template,n])}(n.options,o.params),{documentType:s,isLoaded:l}=(0,ee.Hdz)(a.id,a.type),c=(0,k.useMemo)(()=>r({type:"document",documentId:a.id,schemaType:a.type}),[a.id,a.type,r]),[d,u]=(0,ee.UMU)({templateItems:c}),p=l&&!u,h=(0,k.useMemo)(()=>p&&s&&a.type!==s?{...e,pane:{...e.pane,options:{...a,type:s}}}:e,[e,s,p,a]),{ReferenceChildLink:f,handleEditReference:x,groupIndex:m,routerPanesState:g}=o,j=(null==(t=g[m+1])?void 0:t[0].params)||{},v=g.length,{parentRefPath:y}=j,b=(0,k.useMemo)(()=>y?{path:(0,ed.mL)(y),state:m>=v-1?"none":m>=v-2?"selected":"pressed"}:{path:[],state:"none"},[y,m,v]);return"*"!==a.type||p?s?(0,E.jsx)(P.oK,{...h,children:(0,E.jsx)(ee.euX,{EditReferenceLinkComponent:f,onEditReference:x,initialValueTemplateItems:d,activePath:b,children:(0,E.jsx)(nj,{})})},"".concat(s,"-").concat(a.id)):(0,E.jsx)(e0,{flex:2.5,minWidth:320,paneKey:i,title:(0,E.jsx)(E.Fragment,{children:"The document was not found"}),children:(0,E.jsx)(C.Kq,{space:4,children:(0,E.jsxs)(C.xv,{as:"p",children:["The document type is not defined, and a document with the ",(0,E.jsx)("code",{children:a.id})," ","identifier could not be found."]})})}):(0,E.jsx)(eG,{flex:2.5,minWidth:320,paneKey:i,title:"Loading document…"})}function nj(){let{changesOpen:e,documentType:t,inspector:n,inspectOpen:i,onFocus:r,onPathOpen:o,onHistoryOpen:a,onKeyUp:s,paneKey:l,schemaType:c,value:d}=(0,P.Z3)(),{collapsed:u}=(0,P.Cc)(),p=(0,ee.Cnp)(),[h,f]=(0,k.useState)(null),[x,m]=(0,k.useState)(null),[g,j]=(0,k.useState)(null),[v,y]=(0,k.useState)(null),b=(0,C.XL)(x),_=null==b?void 0:b.height,w=(0,k.useCallback)(e=>{o(e),r(e)},[o,r]),S=P.jE+(n?P.VQ:0),I=P.nK+(n?P.VQ:0);return c?(0,E.jsxs)(nu,{actionsBoxElement:g,as:P.X6,currentMinWidth:S,"data-testid":"document-pane",flex:2.5,id:l,minWidth:I,onKeyUp:s,rootRef:f,children:[(0,E.jsx)(C.Tu,{position:nf,zOffset:p.portal,children:(0,E.jsx)(C.kC,{direction:"column",flex:1,height:u?void 0:"fill",children:(0,E.jsx)(nx,{"data-testid":"change-connector-root",isReviewChangesOpen:e,onOpenReviewChanges:a,onSetFocus:w,children:(0,E.jsx)(tI,{footerHeight:_||null,isInspectOpen:i,rootElement:h,setDocumentPanelPortalElement:y})})})}),(0,E.jsx)(C.Xp,{__unstable_elements:{[P.BP]:v},children:(0,E.jsx)(C.Tu,{position:nf,zOffset:p.portal,children:(0,E.jsx)(P.PV,{ref:m,children:(0,E.jsx)(nc,{actionsBoxRef:j})})})}),(0,E.jsx)(e2,{})]}):(0,E.jsx)(e0,{currentMinWidth:S,flex:2.5,minWidth:I,paneKey:l,title:(0,E.jsxs)(E.Fragment,{children:["Unknown document type: ",(0,E.jsx)("code",{children:t})]}),tone:"caution",children:(0,E.jsxs)(C.Kq,{space:4,children:[t&&(0,E.jsxs)(C.xv,{as:"p",children:["This document has the schema type ",(0,E.jsx)("code",{children:t}),", which is not defined as a type in the local content studio schema."]}),!t&&(0,E.jsx)(C.xv,{as:"p",children:"This document does not exist, and no schema type was specified for it."}),ee.r8Q&&d&&(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(C.xv,{as:"p",children:"Here is the JSON representation of the document:"}),(0,E.jsx)(C.Zb,{padding:3,overflow:"auto",radius:2,shadow:1,tone:"inherit",children:(0,E.jsx)(C.EK,{language:"json",size:[1,1,2],children:JSON.stringify(d,null,2)})})]})]})})}function nv(){return(0,E.jsx)(C.Zb,{height:"fill",children:(0,E.jsx)(C.kC,{align:"center",height:"fill",justify:"center",padding:4,sizing:"border",children:(0,E.jsx)(C.W2,{width:0,children:(0,E.jsx)(C.Zb,{padding:4,radius:2,shadow:1,tone:"caution",children:(0,E.jsxs)(C.kC,{children:[(0,E.jsx)(C.xu,{children:(0,E.jsx)(C.xv,{size:1,children:(0,E.jsx)(es.foC,{})})}),(0,E.jsxs)(C.Kq,{flex:1,marginLeft:3,space:3,children:[(0,E.jsx)(C.xv,{as:"h1",size:1,weight:"bold",children:"No document types"}),(0,E.jsx)(C.xv,{as:"p",muted:!0,size:1,children:"Please define at least one document type in your schema."}),(0,E.jsx)(C.xv,{as:"p",muted:!0,size:1,children:(0,E.jsx)("a",{href:"https://www.sanity.io/docs/create-a-schema-and-configure-sanity-studio",target:"_blank",rel:"noreferrer",children:"Learn how to add a document type →"})})]})]})})})})})}var ny=Object.freeze,nb=Object.defineProperty;let n_=(0,ea.ZP)(function(e){let{children:t,minWidth:n,onCollapse:i,onExpand:r,...o}=e,a=(0,k.useMemo)(()=>(function(){let e=[],t=[],n=new WeakMap,i=new Set,r={},o=null,a=0,s=null,l=new Map,c=!1;function d(e){i.delete(e),s=e,u()}return{collapse:function(e){i.add(e),s===e&&(s=null),u()},expand:d,mount:function(e,i){return n.set(e,{...i,original:i}),t.push(e),o&&function(e,t){let n=new WeakMap;for(let i of t)n.set(i,function(e,t){let n=[],i=t;for(;i!==e;){let t=i.parentElement;if(!t)break;let r=Array.from(t.childNodes),o=r.indexOf(i);if(n.unshift(o),t===e)break;i=t}return n}(e,i));t.sort((e,t)=>{let i=n.get(e)||eb,r=n.get(t)||eb,o=Math.max(i.length,r.length);for(let e=0;e<o;e+=1){let t=i[e]||-1,n=r[e]||-1;if(t!==n)return t-n}return 0})}(o,t),d(e),()=>{let i=t.indexOf(e);i>-1&&t.splice(i,1),n.delete(e),u()}},resize:function(e,i,o){var a,s,d,p;let h=t.indexOf(i),f=n.get(i);if(!f)return;let x=t[h+1],m=n.get(x);if(m){if("start"===e&&(c=!0,r.left={element:i,flex:f.flex||1,width:i.offsetWidth},r.right={element:x,flex:m.flex||1,width:x.offsetWidth},u()),"move"===e&&r.left&&r.right){l=new Map;let{leftW:e,rightW:t,leftFlex:n,rightFlex:a}=function(e,t,n,i){var r,o;let a={flex:e.left.flex+e.right.flex,width:e.left.width+e.right.width},s=null!=(r=t.minWidth)?r:P.nR,l=null!=(o=n.minWidth)?o:P.nR,c=Math.min(t.maxWidth||1/0,a.width-l),d=Math.min(n.maxWidth||1/0,a.width-s),u=s-e.left.width,p=e.right.width-d;u<p&&(u=p);let h=e.right.width-l,f=c-e.left.width;h>f&&(h=f);let x=Math.min(Math.max(i,u),h),m=e.left.width+x,g=e.right.width-x,j=m/a.width*a.flex,v=g/a.width*a.flex;return{leftFlex:j,leftW:m,rightFlex:v,rightW:g}}(r,f,m,o);l.set(i,{flex:n,width:e}),l.set(x,{flex:a,width:t}),u()}if("end"===e){c=!1;let e=l.get(i),t=l.get(x);n.set(i,{...f,currentMinWidth:0,currentMaxWidth:null!=(a=f.maxWidth)?a:1/0,flex:null!=(s=null==e?void 0:e.flex)?s:f.flex}),n.set(x,{...m,currentMinWidth:0,currentMaxWidth:null!=(d=f.maxWidth)?d:1/0,flex:null!=(p=null==t?void 0:t.flex)?p:m.flex}),l=new Map,delete r.left,delete r.right,u()}}},setRootElement:function(e){o=e},setRootWidth:function(e){a=e,u()},subscribe:function(t){return e.push(t),()=>{let n=e.push(t);n>-1&&e.splice(n,1)}}};function u(){var r,o,d,u;if(!a)return;let p=[];for(let e of t)e!==s&&p.unshift(e);s&&p.unshift(s);let h=new WeakMap,f=p.length,x=p[0],m=(f-1)*P.AA,g=a-m;for(let e of p){let t=n.get(e);if(!t)continue;let a=t.currentMinWidth||t.minWidth||P.nR,s=e===x,c=i.has(e),p=a>g,f=!s&&(c||p),m=l.get(e);h.set(e,{element:e,collapsed:f,currentMinWidth:null!=(r=null==m?void 0:m.width)?r:t.currentMinWidth,currentMaxWidth:null!=(o=null==m?void 0:m.width)?o:t.currentMaxWidth,flex:null!=(u=null!=(d=null==m?void 0:m.flex)?d:t.flex)?u:1}),f?g-=P.AA:g-=a-P.AA}let j=[];for(let e of t){let t=h.get(e);t&&j.push(t)}for(let n of e)n({expandedElement:s||t[t.length-1]||null,panes:j,resizing:c})}})(),[]),[s,l]=(0,k.useState)(null),c=(0,C.XL)(s),d=(null==c?void 0:c.width)||0,u=void 0!==d&&n?d<n:void 0,[p,h]=(0,k.useState)({expandedElement:null,panes:[],resizing:!1});(0,k.useEffect)(()=>a.setRootElement(s),[a,s]),(0,k.useEffect)(()=>a.setRootWidth(d),[a,d]),(0,k.useEffect)(()=>a.subscribe(h),[a]),(0,k.useEffect)(()=>{void 0!==u&&(u&&i&&i(),!u&&r&&r())},[u,i,r]);let f=(0,k.useMemo)(()=>({collapse:a.collapse,collapsed:u,expand:a.expand,expandedElement:p.expandedElement,mount:a.mount,panes:p.panes,resize:a.resize,resizing:p.resizing}),[u,a,p.expandedElement,p.panes,p.resizing]);return(0,E.jsx)(P.yq.Provider,{value:f,children:(0,E.jsx)(P.fC,{"data-ui":"PaneLayout",...o,"data-collapsed":u?"":void 0,"data-resizing":p.resizing?"":void 0,"data-mounted":d?"":void 0,ref:l,children:t})})})(w||(w=ny(nb(c=["\n  min-height: 100%;\n  min-width: 320px;\n"],"raw",{value:ny(c.slice())})))),nw=(0,ec.ZP)("mod+s"),nE=(0,k.memo)(function(e){var t;let{onPaneChange:n}=e,{push:i}=(0,C.pm)(),r=(0,ee.I_y)(),{layoutCollapsed:o,setLayoutCollapsed:a}=(0,P.xu)(),{paneDataItems:s,resolvedPanes:l}=function(){let[e,t]=(0,k.useState)();if(e)throw e;let{structureContext:n,rootPaneNode:i}=(0,P.xu)(),[r,o]=(0,k.useState)({paneDataItems:[],resolvedPanes:[],routerPanes:[]}),a=function(){let e=(0,k.useMemo)(()=>new A.t(1),[]),t=(0,k.useMemo)(()=>e.asObservable().pipe((0,U.U)(e=>(null==e?void 0:e.panes)||[])),[e]),{state:n}=(0,er.tv)();return(0,k.useEffect)(()=>{e.next(n)},[n,e]),t}();return(0,k.useEffect)(()=>{let e=(function(e){let{routerPanesStream:t,rootPaneNode:n,initialCacheState:i={cacheKeysByFlatIndex:[],flattenedRouterPanes:[],resolvedPaneCache:new Map,resolvePane:()=>T.C},structureContext:r}=e,o=t.pipe((0,U.U)(e=>[[{id:"root"}],...e]),(0,U.U)(e=>{let t=e.flatMap((e,t)=>e.map((e,n)=>({routerPaneSibling:e,groupIndex:t,siblingIndex:n}))).map((e,t)=>({...e,flatIndex:t}));return t}),(0,B.O)([]),(0,K.e)(function(e,t){var n,i=!1;e.subscribe((0,V.x)(t,function(e){var r=n;n=e,i&&t.next([r,e]),i=!0}))}),(0,U.U)(e=>{let[t,n]=e;for(let e=0;e<n.length;e++){let i=t[e],r=n[e];if(!ei()(i,r))return{flattenedRouterPanes:n,diffIndex:e}}return{flattenedRouterPanes:n,diffIndex:n.length}}),(0,X.R)((e,t)=>{let{cacheKeysByFlatIndex:n,resolvedPaneCache:i}=e,{flattenedRouterPanes:r,diffIndex:o}=t,a=n.slice(0,o+1),s=n.slice(o+1),l=new Set(a.flatMap(e=>Array.from(e))),c=s.flatMap(e=>Array.from(e)).filter(e=>!l.has(e));for(let e of c)i.delete(e);return{flattenedRouterPanes:r,cacheKeysByFlatIndex:n,resolvedPaneCache:i,resolvePane:eD(e=>(t,r,o)=>{var a,s;let l=t&&"".concat(eS(t),"-").concat("contextHash(".concat(JSON.stringify({id:r.id,parentId:parent&&eS(parent),path:r.path,index:r.index,splitIndex:r.splitIndex,serializeOptionsIndex:null==(a=r.serializeOptions)?void 0:a.index,serializeOptionsPath:null==(s=r.serializeOptions)?void 0:s.path}),")")),c=l&&i.get(l);if(c)return c;let d=e(t,r,o);if(!l)return d;let u=n[o]||new Set;return u.add(l),n[o]=u,i.set(l,d),d})}},i),(0,Z.w)(e=>{let{flattenedRouterPanes:t,resolvePane:i}=e;return function e(t){let{unresolvedPane:n,flattenedRouterPanes:i,parent:r,path:o,resolvePane:a,structureContext:s}=t,[l,...c]=i,d=c[0],u={id:l.routerPaneSibling.id,splitIndex:l.siblingIndex,parent:r,path:[...o,l.routerPaneSibling.id],index:l.flatIndex,params:l.routerPaneSibling.params||{},payload:l.routerPaneSibling.payload,structureContext:s};try{return a(n,u,l.flatIndex).pipe((0,Z.w)(t=>{let i;let p={type:"resolvedMeta",...l,paneNode:t,path:u.path},h=c.map((e,t)=>{let n=[...u.path,...c.slice(t).map((t,n)=>"[".concat(e.flatIndex+n,"]"))],i={type:"loading",path:n,paneNode:null,...e};return i});return c.length?(i=(null==d?void 0:d.routerPaneSibling.id.startsWith("__edit__"))?e({unresolvedPane:eT,flattenedRouterPanes:c,parent:r,path:u.path,resolvePane:a,structureContext:s}):l.groupIndex===(null==d?void 0:d.groupIndex)?e({unresolvedPane:n,flattenedRouterPanes:c,parent:r,path:o,resolvePane:a,structureContext:s}):e({unresolvedPane:"function"==typeof t.child?eO(t,"child"):t.child,flattenedRouterPanes:c,parent:t,path:u.path,resolvePane:a,structureContext:s}),(0,L.z)((0,N.of)([p,...h]),i.pipe((0,U.U)(e=>[p,...e])))):(0,N.of)([p])}))}catch(e){if(e instanceof eC&&(e.context&&console.warn("Pane resolution error at index ".concat(e.context.index).concat(e.context.splitIndex>0?" for split pane index ".concat(e.context.splitIndex):"",": ").concat(e.message).concat(e.helpId?" - see ".concat((0,et.h)(e.helpId)):""),e),"structure-item-returned-no-child"===e.helpId))return(0,N.of)([]);throw e}}({unresolvedPane:n,flattenedRouterPanes:t,parent:null,path:[],resolvePane:i,structureContext:r})}));return o.pipe((0,X.R)((e,t)=>t.map((t,n)=>{let i=e[n];return i&&"loading"===t.type&&i.routerPaneSibling.id===t.routerPaneSibling.id?i:t}),[]),(0,H.x)((e,t)=>{if(e.length!==t.length)return!1;for(let n=0;n<t.length;n++){let i=e[n],r=t[n];if(eA(i)!==eA(r))return!1}return!0}))})({rootPaneNode:i,routerPanesStream:a,structureContext:n}).pipe((0,U.U)(e=>{let t=e.reduce((e,t)=>{let n=e[t.groupIndex]||[];return n[t.siblingIndex]=t.routerPaneSibling,e[t.groupIndex]=n,e},[]),n=t.length,i=e.map(i=>{var r;let{groupIndex:o,flatIndex:a,siblingIndex:s,routerPaneSibling:l,path:c}=i,d=l.id,u=t[o+1],p={active:o===n-2,childItemId:null!=(r=null==u?void 0:u[0].id)?r:null,index:a,itemId:l.id,groupIndex:o,key:"".concat("loading"===i.type?"unknown":i.paneNode.id,"-").concat(d,"-").concat(s),pane:"loading"===i.type?P.PF:i.paneNode,params:l.params||{},path:c.join(";"),payload:l.payload,selected:a===e.length-1,siblingIndex:s};return p});return{paneDataItems:i,routerPanes:t,resolvedPanes:i.map(e=>e.pane)}})),r=e.subscribe({next:e=>o(e),error:e=>t(e)});return()=>r.unsubscribe()},[i,a,n]),r}(),c=(0,er.z)((0,k.useCallback)(e=>"string"==typeof e.intent,[])),[d,u]=(0,k.useState)(null),p=(0,k.useCallback)(()=>a(!0),[a]),h=(0,k.useCallback)(()=>a(!1),[a]);(0,k.useEffect)(()=>{l.length&&n(l)},[n,l]),(0,k.useEffect)(()=>{let e=e=>{nw(e)&&(e.preventDefault(),i({closable:!0,id:"auto-save-message",status:"info",title:"Your work is automatically saved!",duration:4e3}))};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[i]);let f=null==(t=r._original)?void 0:t.types.some(ee.mPO);return f?(0,E.jsxs)(C.Xp,{element:d||null,children:[(0,E.jsxs)(n_,{flex:1,height:o?void 0:"fill",minWidth:512,onCollapse:p,onExpand:h,children:[s.map(e=>{let{active:t,childItemId:n,groupIndex:i,itemId:r,key:o,pane:a,index:s,params:l,path:c,payload:d,siblingIndex:u,selected:p}=e;return(0,E.jsx)(k.Fragment,{children:a===P.PF?(0,E.jsx)(eG,{paneKey:o,path:c,selected:p}):(0,E.jsx)(eQ,{active:t,groupIndex:i,index:s,pane:a,childItemId:n,itemId:r,paneKey:o,params:l,payload:d,path:c,selected:p,siblingIndex:u})},"".concat(a===P.PF?"loading":a.type,"-").concat(s))}),s.length<=1&&c&&(0,E.jsx)(eG,{paneKey:"intent-resolver"})]}),(0,E.jsx)("div",{"data-portal":"",ref:u})]}):(0,E.jsx)(nv,{})});var nk=Object.freeze({__proto__:null,default:function(e){let{tool:{options:t}}=e,{unstable_sources:n}=(0,ee.cFj)(),[i]=n,{source:r,defaultDocumentNode:o,structure:a}=t||{};(0,k.useEffect)(()=>((0,P.aR)([]),()=>(0,P.aR)([])),[]);let[{error:s},l]=(0,k.useState)({error:null});return s?(0,E.jsx)(eB,{error:s}):(0,E.jsx)(C.SV,{onCatch:l,children:(0,E.jsx)(ee.cWh,{name:r||i.name,children:(0,E.jsxs)(P.Sg,{defaultDocumentNode:o,structure:a,children:[(0,E.jsx)(nE,{onPaneChange:P.aR}),(0,E.jsx)(eq,{})]})})})}})}}]);